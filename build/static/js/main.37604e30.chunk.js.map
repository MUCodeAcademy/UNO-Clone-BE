{"version":3,"sources":["hooks/useSocket.js","components/Game/GameComponents/Chat.js","components/Game/GameComponents/Card.js","shared/deck.js","Firebase.js","shared/UserContext.js","shared/GameContext.js","components/Game/GameComponents/OtherPlayers.js","components/Game/GameComponents/GameInfo.js","components/Game/GameComponents/PlayerHand.js","components/Game/GameComponents/GameBoard.js","components/Game/GamePage.js","components/Home/HomePage.js","components/UserSettings/UserSettingsPage.js","components/Login/LoginPage.js","components/Signup/SignupPage.js","components/ResetPassword/ResetPasswordPage.js","shared/ProtectedRoutes.js","shared/AppMenu.js","App.js","reportWebVitals.js","index.js"],"names":["useSocket","room","isHost","useState","messages","setMessages","socketRef","useRef","isHostSoc","gameActive","drawDeck","discardDeck","players","gameData","setGameData","gameRef","useEffect","current","socketIOClient","query","on","data","msgs","newGameData","user","emit","sendMessage","useCallback","body","username","joinRoom","sendPlayerData","console","log","sendJoinGame","useStyles","makeStyles","theme","root","display","flexDirection","margin","width","flexBasis","chatEntry","chatDisplay","backgroundColor","overflowY","textOverflow","flexGrow","chatInput","marginBottom","chatButton","chat","Chat","props","msgEndRef","msg","setMsg","scrollIntoView","behavior","scrollToBottom","classes","className","length","map","m","idx","style","textAlign","maxWidth","ref","TextField","multiline","placeholder","value","onChange","evt","target","Button","variant","color","onClick","Card","firstChar","charAt","size","playCard","card","topCard","deck","points","app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","UserContext","React","createContext","UserProvider","children","currentUser","setCurrentUser","loading","setLoading","onAuthStateChanged","signUp","email","password","createUserWithEmailAndPassword","logIn","signInWithEmailAndPassword","logOut","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","GameContext","GameProvider","isHostCon","setIsHostCon","playerArray","setPlayerArray","setGameActive","setDrawDeck","setDiscardDeck","userInfo","setUserInfo","setRoom","useContext","hasWinner","setHasWinner","actionCount","setActionCount","winner","useMemo","find","v","hand","canPlay","userID","PlayerObject","this","oneShuffle","toShuffle","pre","post","i","splice","Math","floor","random","almost","reverse","pen","filter","x","undefined","shuffleDeck","toBeShuffled","regularTurn","justPlayed","shift","newOrder","reverseCard","currentOrder","skip","skipper","skippee","drawTwo","drawing","cards","newHand","push","player","topDiscard","discard","toString","includes","playerHand","newPlayerArray","unshift","isNaN","val","move","createUserInfo","providedName","ID","substring","startGame","shuffled","j","dealtCard","draw","forEach","deal","setColor","newColor","newWild","receiver","giver","drawFour","drawCard","playerID","p","afterDraw","flexWrap","justifyContent","cardContainer","opponentHand","text","fontSize","fontWeight","OtherPlayers","Box","height","boxShadow","GameInfo","Container","toUpperCase","playArea","PlayerHand","me","GameBoard","open","setOpen","history","useHistory","Dialog","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","severity","DialogActions","gamePage","padding","otherPlayers","info","sectionContainer","gameBoard","section","border","GamePage","newGuy","Grid","container","spacing","xs","item","form","marginTop","paper","alignItems","testErr","join","submit","Alert","elevation","HomePage","gameId","joinedRoom","setJoinedRoom","setUsername","error","setError","handleUnique","component","borderRadius","borderColor","CssBaseline","Typography","label","fullWidth","required","name","autoComplete","helperText","e","type","joinGame","disabled","createGame","avatar","palette","secondary","main","UserSettingsPage","handleClose","event","reason","originalEmail","setEmail","setPassword","passwordConfirm","setPasswordConfirm","success","setSuccess","a","preventDefault","test","noValidate","direction","justify","defaultValue","Link","NavLink","to","mt","Snackbar","autoHideDuration","onClose","minWidth","marginLeft","marginRight","paddingLeft","paddingRight","LoginPage","Avatar","autoFocus","FormControlLabel","control","Checkbox","SignupPage","onSubmit","ResetPasswordPage","message","setMessage","ProtectedRoutes","authRequired","path","redirect","exact","menuButton","title","iconText","link","textDecoration","AppMenu","anchorEl","setAnchorEl","Boolean","AppBar","position","Toolbar","IconButton","aria-label","aria-controls","aria-haspopup","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","ListItemIcon","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"6RAwFeA,EAnFG,SAACC,EAAMC,GAAY,IAAD,EACFC,mBAAS,IADP,mBAC3BC,EAD2B,KACjBC,EADiB,KAE5BC,EAAYC,mBAFgB,EAGdJ,mBAASD,GAAtBM,EAH2B,sBAIFL,mBAAS,CACvCM,YAAY,EACZC,SAAU,GACVC,YAAa,GACbC,QAAS,KARuB,mBAI3BC,EAJ2B,KAIjBC,EAJiB,KAU5BC,EAAUR,mBA+DhB,OA9DAS,qBAAU,WACRD,EAAQE,QAAU,CAChBR,YAAY,EACZC,SAAU,GACVC,YAAa,GACbC,QAAS,IAEXP,GAAY,iBAAM,MAClBC,EAAUW,QAAUC,IArBL,0CAqBgC,CAAEC,MAAO,CAAElB,UAC1DK,EAAUW,QAAQG,GAAG,cAAc,SAACC,GAClChB,GAAY,SAACiB,GAAD,4BAAcA,GAAd,CAAoBD,UAElCf,EAAUW,QAAQG,GAAG,WAAW,SAACC,GAC/BhB,GAAY,SAACiB,GAAD,4BAAcA,GAAd,CAAoBD,UAGlCf,EAAUW,QAAQG,GAAlB,0BAA+C,SAACC,GAC9C,GAAIb,GAAaa,EAAKpB,MAAQA,EAAM,CAClC,IAAMsB,EAAW,2BACZR,EAAQE,SADI,IAEfL,QAAQ,GAAD,mBAAMG,EAAQE,QAAQL,SAAtB,CAA+BS,EAAKG,SAE7CV,EAAY,eAAKS,IACjBR,EAAQE,QAAUM,EAClBjB,EAAUW,QAAQQ,KAAK,iBAAkBF,OAI7CjB,EAAUW,QAAQG,GAAG,aAAa,SAACC,GAC5Bb,IACLO,EAAQE,QAAR,eAAuBI,GACvBP,EAAY,eAAKO,IACjBf,EAAUW,QAAQQ,KAAK,iBAAvB,eAA8CJ,QAGhDf,EAAUW,QAAQG,GAAG,eAAe,SAACC,GAC/Bb,GACJM,EAAY,eAAKO,SAElB,IAuBI,CACLjB,WACAS,WACAa,YAxBkBC,uBAAY,SAACC,EAAMC,GACrCvB,EAAUW,QAAQQ,KAAK,UAAW,CAChCI,WACAD,OACA3B,WAED,IAmBD6B,SAjBeH,uBAAY,SAACE,GAC5BvB,EAAUW,QAAQQ,KAAK,YAAa,CAAEI,WAAU5B,WAC/C,IAgBD8B,eAdqBJ,uBAAY,SAACN,GAClCW,QAAQC,IAAIZ,GACZf,EAAUW,QAAQQ,KAAK,mBAAvB,eAAgDJ,MAC/C,IAYDa,aAVmBP,uBAAY,SAACN,GAChCf,EAAUW,QAAQQ,KAAK,0BAAvB,eAAuDJ,S,kCCtErDc,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACTC,cAAe,SACfC,OAAQ,EACRC,MAAO,mBACPC,UAAW,QAEbC,UAAW,CACTD,UAAW,IAEbE,YAAa,CACXN,QAAS,OACTO,gBAAiB,qBACjBN,cAAe,SACfO,UAAU,OACVC,aAAa,OACbL,UAAW,IACXM,SAAU,GAEZC,UAAW,CACTC,aAAc,GACdT,MAAO,QAETU,WAAY,CACVV,MAAO,QAETW,KAAM,OA2DOC,EAzDF,SAACC,GAEZ,IAAMC,EAAYjD,iBAAO,MAFH,EAMAJ,mBAAS,IANT,mBAMfsD,EANe,KAMVC,EANU,KAOtB1C,qBAAU,YAJa,WAAO,IAAD,EAC3B,UAAAwC,EAAUvC,eAAV,SAAmB0C,eAAe,CAAEC,SAAU,WAI9CC,KACC,CAACN,EAAMnD,WACV,IAAM0D,EAAU3B,IAChB,OACE,sBAAK4B,UAAWD,EAAQxB,KAAxB,UACE,sBAAKyB,UAAWD,EAAQjB,YAAxB,UACGU,EAAMnD,SAAS4D,OAAS,GACvBT,EAAMnD,SAAS6D,KAAI,SAACC,EAAGC,GACrB,OACE,sBACEJ,UAAWD,EAAQT,KACnBe,MAAO,CAAEC,UAAW,QAFtB,UAKE,4BAAIH,EAAErC,WACN,qBAAKuC,MAAO,CAAEE,SAAU,SAAxB,SAAoCJ,EAAEtC,SAHjCuC,MAOb,qBAAKI,IAAKf,OAEZ,sBAAKO,UAAWD,EAAQlB,UAAxB,UACE,cAAC4B,EAAA,EAAD,CACEC,WAAS,EACTC,YAAY,eACZC,MAAOlB,EACPM,UAAWD,EAAQZ,UACnB0B,SAAU,SAACC,GACTnB,EAAOmB,EAAIC,OAAOH,UAGtB,cAACI,EAAA,EAAD,CACEhB,UAAWD,EAAQV,WACnB4B,QAAQ,YACRC,MAAM,UACNC,QAAS,WACHzB,IACFF,EAAM7B,YAAY+B,EAAKF,EAAM1B,UAC7B6B,EAAO,MAPb,yBCpCOyB,G,OAlCF,SAAC5B,GACZ,IAAI6B,EAAY,UAAG7B,EAAMoB,OAAQU,OAAO,GACxC,OACE,mCACkB,UAAf9B,EAAM+B,KACL,sBACEJ,QAAS,WACH3B,EAAMgC,UACRhC,EAAMgC,SAAShC,EAAMiC,KAAMjC,EAAMkC,QAASlC,EAAMY,MAEpDC,MAAO,CAAEtB,gBAAgB,GAAD,OAAKS,EAAM0B,QACnClB,UAAS,YANX,UAQE,qBAAKA,UAAU,gBAAf,SAAgCR,EAAMoB,QACtC,qBAAKZ,UAAU,QAAf,SAAwBqB,IACxB,qBAAKrB,UAAU,oBAAf,SAAoCR,EAAMoB,WAG5C,sBACEO,QAAS,WACH3B,EAAMgC,UACRhC,EAAMgC,SAAShC,EAAMiC,KAAMjC,EAAMkC,QAASlC,EAAMY,MAEpDC,MAAO,CAAEtB,gBAAgB,GAAD,OAAKS,EAAM0B,QACnClB,UAAS,OANX,UAQE,qBAAKA,UAAU,gBAAf,SAAgCR,EAAMoB,QACtC,qBAAKZ,UAAU,QAAf,SAAwBqB,IACxB,qBAAKrB,UAAU,oBAAf,SAAoCR,EAAMoB,e,SCiFrCe,EAhHF,CACX,CAAEf,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,OAAQU,OAAQ,GACnC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,QAASU,OAAQ,GACpC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,MAAOU,OAAQ,GAClC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,EAAGM,MAAO,SAAUU,OAAQ,GACrC,CAAEhB,MAAO,WAAYM,MAAO,OAAQU,OAAQ,IAC5C,CAAEhB,MAAO,WAAYM,MAAO,OAAQU,OAAQ,IAC5C,CAAEhB,MAAO,WAAYM,MAAO,QAASU,OAAQ,IAC7C,CAAEhB,MAAO,WAAYM,MAAO,QAASU,OAAQ,IAC7C,CAAEhB,MAAO,WAAYM,MAAO,MAAOU,OAAQ,IAC3C,CAAEhB,MAAO,WAAYM,MAAO,MAAOU,OAAQ,IAC3C,CAAEhB,MAAO,WAAYM,MAAO,SAAUU,OAAQ,IAC9C,CAAEhB,MAAO,WAAYM,MAAO,SAAUU,OAAQ,IAC9C,CAAEhB,MAAO,UAAWM,MAAO,OAAQU,OAAQ,IAC3C,CAAEhB,MAAO,UAAWM,MAAO,OAAQU,OAAQ,IAC3C,CAAEhB,MAAO,UAAWM,MAAO,QAASU,OAAQ,IAC5C,CAAEhB,MAAO,UAAWM,MAAO,QAASU,OAAQ,IAC5C,CAAEhB,MAAO,UAAWM,MAAO,MAAOU,OAAQ,IAC1C,CAAEhB,MAAO,UAAWM,MAAO,MAAOU,OAAQ,IAC1C,CAAEhB,MAAO,UAAWM,MAAO,SAAUU,OAAQ,IAC7C,CAAEhB,MAAO,UAAWM,MAAO,SAAUU,OAAQ,IAC7C,CAAEhB,MAAO,OAAQM,MAAO,OAAQU,OAAQ,IACxC,CAAEhB,MAAO,OAAQM,MAAO,OAAQU,OAAQ,IACxC,CAAEhB,MAAO,OAAQM,MAAO,QAASU,OAAQ,IACzC,CAAEhB,MAAO,OAAQM,MAAO,QAASU,OAAQ,IACzC,CAAEhB,MAAO,OAAQM,MAAO,MAAOU,OAAQ,IACvC,CAAEhB,MAAO,OAAQM,MAAO,MAAOU,OAAQ,IACvC,CAAEhB,MAAO,OAAQM,MAAO,SAAUU,OAAQ,IAC1C,CAAEhB,MAAO,OAAQM,MAAO,SAAUU,OAAQ,IAC1C,CAAEhB,MAAO,OAAQM,MAAO,QAASU,OAAQ,IACzC,CAAEhB,MAAO,OAAQM,MAAO,QAASU,OAAQ,IACzC,CAAEhB,MAAO,OAAQM,MAAO,QAASU,OAAQ,IACzC,CAAEhB,MAAO,OAAQM,MAAO,QAASU,OAAQ,IACzC,CAAEhB,MAAO,iBAAkBM,MAAO,QAASU,OAAQ,IACnD,CAAEhB,MAAO,iBAAkBM,MAAO,QAASU,OAAQ,IACnD,CAAEhB,MAAO,iBAAkBM,MAAO,QAASU,OAAQ,IACnD,CAAEhB,MAAO,iBAAkBM,MAAO,QAASU,OAAQ,K,SCzG/CC,G,OAAMC,IAASC,cAAc,CAC/BC,OAAQC,0CACRC,WAAYD,kCACZE,UAAWF,kBACXG,cAAeH,8BACfI,kBAAmBJ,eACnBK,MAAOL,+CAGEM,EAAOV,EAAIU,OCTXC,EAAcC,IAAMC,gBAE1B,SAASC,EAAT,GAAqC,IAAbC,EAAY,EAAZA,SAAY,EACHxG,qBADG,mBAClCyG,EADkC,KACrBC,EADqB,OAEX1G,oBAAS,GAFE,mBAElC2G,EAFkC,KAEzBC,EAFyB,KA4BzC/F,qBAAU,WAMR,OALoBsF,EAAKU,oBAAmB,SAACxF,GAC3CqF,EAAerF,GAEfuF,GAAW,QAGZ,IAEH,IAAMpC,EAAQ,CACZiC,cACAK,OAnCF,SAAgBC,EAAOC,GACrBb,EAAKc,+BAA+BF,EAAOC,IAmC3CE,MA5BF,SAAeH,EAAOC,GACpB,OAAOb,EAAKgB,2BAA2BJ,EAAOC,IA4B9CI,OAzBF,WACE,OAAOjB,EAAKkB,WAyBZC,cAlCF,SAAuBP,GACrB,OAAOZ,EAAKoB,uBAAuBR,IAkCnCS,YAvBF,SAAqBT,GACnB,OAAON,EAAYe,YAAYT,IAuB/BU,eApBF,SAAwBT,GACtB,OAAOP,EAAYgB,eAAeT,KAsBpC,OACE,cAACZ,EAAYsB,SAAb,CAAsBlD,MAAOA,EAA7B,UACImC,GAAWH,IClDZ,IAAMmB,EAActB,IAAMC,gBAE1B,SAASsB,EAAT,GAAqC,IAAbpB,EAAY,EAAZA,SAAY,EACPxG,oBAAS,GADF,mBAClC6H,EADkC,KACvBC,EADuB,OAEH9H,mBAAS,IAFN,mBAElC+H,EAFkC,KAErBC,EAFqB,OAGLhI,oBAAS,GAHJ,mBAGlCM,EAHkC,KAGtB2H,EAHsB,OAITjI,mBAAS,IAJA,mBAIlCO,EAJkC,KAIxB2H,EAJwB,OAKHlI,mBAAS,IALN,mBAKlCQ,EALkC,KAKrB2H,EALqB,OAMTnI,mBAAS,IANA,mBAMlCoI,EANkC,KAMxBC,EANwB,OAOjBrI,mBAAS,IAPQ,mBAOlCF,EAPkC,KAO5BwI,EAP4B,KAQjC3B,EAAY4B,qBAAWnC,GAAvBO,QARiC,EASP3G,oBAAS,GATF,mBASlCwI,EATkC,KASvBC,EATuB,OAUHzI,mBAAS,GAVN,mBAUlC0I,EAVkC,KAUrBC,EAVqB,KAWnCC,EAASC,mBAAQ,WACrB,OAAKvI,GAAekI,GACpBC,GAAa,GACNV,EAAYe,MAAK,SAACC,GAAD,OAAyB,IAAlBA,EAAEC,KAAKnF,WAFA,OAGrC,CAACkE,IAEEkB,EAAUJ,mBAAQ,WACtB,OAAOd,EAAY,IAAMA,EAAY,GAAGmB,SAAWd,EAASc,SAC3D,CAACnB,IAiBJ,SAASoB,EAAazH,EAAUwH,EAAQF,GACtCI,KAAK1H,SAAWA,EAChB0H,KAAKF,OAASA,EACdE,KAAKJ,KAAOA,EAgBd,SAASK,EAAWC,GAGlB,IAFA,IAAIC,EAAG,YAAOD,GACVE,EAAO,GACFC,EAAI,EAAGA,GAAKF,EAAI1F,OAAQ4F,IAC/BD,EAAKE,OAAOC,KAAKC,MAAMD,KAAKE,SAAWJ,GAAI,EAAGF,EAAIE,IAIpD,IAFA,IAAIK,EAASN,EAAKO,UACdC,EAAM,GACDP,EAAI,EAAGA,GAAKK,EAAOjG,OAAQ4F,IAClCO,EAAIN,OAAOC,KAAKC,MAAMD,KAAKE,SAAWJ,GAAI,EAAGK,EAAOL,IAGtD,OADUO,EAAIC,QAAO,SAACC,GAAD,YAAaC,IAAND,KAI9B,SAASE,EAAYC,GAMnB,OALehB,EACbA,EACEA,EAAWA,EAAWA,EAAWA,EAAWA,EAAWgB,SAiC7D,SAASC,IACP,IAAI7J,EAAO,YAAOsH,GACdwC,EAAa9J,EAAQ+J,QACrBC,EAAQ,sBAAOhK,GAAP,CAAgB8J,IAC5BvC,EAAeyC,GACf9B,EAAeD,EAAc,GAG/B,SAASgC,IACP,IAAIC,EAAY,YAAO5C,GACvBC,EAAe2C,EAAaZ,WAC5BpB,EAAeD,EAAc,GAG/B,SAASkC,KACP,IAAInK,EAAO,YAAOsH,GACd8C,EAAUpK,EAAQ+J,QAClBM,EAAUrK,EAAQ+J,QAClBC,EAAQ,sBAAOhK,GAAP,CAAgBoK,EAASC,IACrC9C,EAAeyC,GACf9B,EAAeD,EAAc,GAG/B,SAASqC,KACP,IAAIC,EAAO,YAAOzK,GACd0K,EAAQ,CAACD,EAAQR,QAASQ,EAAQR,SAClCU,EAAO,YAAOnD,EAAY,GAAGiB,MACjCkC,EAAQC,KAAKF,GACb,IAAIxK,EAAO,YAAOsH,GACdqD,EAAS,IAAIjC,EACfpB,EAAY,GAAGrG,SACfqG,EAAY,GAAGmB,OACfgC,GAEFlD,EAAe,GAAD,mBAAKvH,GAAL,CAAc2K,KAC5BzC,EAAeD,EAAc,GAsE/B,SAAStD,GAASA,EAAUiG,GAAyB,IAAbrH,EAAY,uDAAN,KAC5C,GAAI1D,GAAc2I,EAAS,CACzB,IAAIqC,EAAO,YAAO9K,GAClB,GACE4E,EAASZ,QAAU6G,EAAW7G,OAC9BY,EAASN,QAAUuG,EAAWvG,OAC9BM,EAASZ,MAAM+G,WAAWC,SAAS,QACnC,CAEA,GADA3J,QAAQC,IAAIkC,GACA,OAARA,EAAc,CAChB,IAAIyH,EAAU,YAAO1D,EAAY,GAAGiB,MACpCyC,EAAW/B,OAAO1F,EAAK,GACvB,IAAI0H,EAAc,YAAO3D,GACzB2D,EAAe,GAAG1C,KAAOyC,EACzBzD,EAAe0D,GAIjB,GAFAJ,EAAQK,QAAQvG,GAChB+C,EAAemD,IACVM,MAAMxG,EAASyG,MAA2B,aAAnBzG,EAASZ,MAGnC,OAFAuG,UACAT,IAGF,GAAIlF,EAASZ,MAAM+G,WAAWC,SAAS,QASrC,OAGJ,GAAuB,YAAnBpG,EAASZ,MAEX,YADAkG,IAGF,GAAuB,SAAnBtF,EAASZ,MAEX,YADAoG,KAGFN,IACA3B,EAAeD,EAAc,IA1OjC7H,qBAAU,WACR,IAAmB,IAAfP,GAAuBC,IAAa,GAAI,CAC1C,IAAIuL,EAAO1B,EAAY,YAAI5J,IAC3B0H,EAAY4D,GACZ3D,EAAe,QAInBtH,qBAAU,WACJ+H,IAAWtI,IACbqI,EAAeD,EAAc,GAC7BT,GAAc,MAEf,CAACW,IAkOJ,IAAMpE,GAAQ,CACZqD,YACAC,eACAC,cACAC,iBACA1H,aACA2H,gBACAgB,UACAL,SACAF,cACAnI,WACA2H,cACA1H,cACA2H,iBACAC,WACAC,cACAvI,OACAwI,UACAa,eACA4C,eAvOF,SAAwBC,GACtB,IAAIC,EACFtC,KAAKE,SAAS0B,SAAS,IAAIW,UAAU,EAAG,GACxCvC,KAAKE,SAAS0B,SAAS,IAAIW,UAAU,EAAG,GAC1C7D,EAAY,CAAE3G,SAAUsK,EAAc9C,OAAQ+C,KAoO9CE,UAnLF,YAtBA,WAGE,IAFA,IAAIC,EAAWhC,EAAY7E,GACvBmG,EAAc,YAAO3D,GAChB0B,EAAI,EAAGA,EAAIiC,EAAe7H,OAAQ4F,IAAK,CAC9C,IAAK,IAAI4C,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAIC,EAAYF,EAAS5B,QACzBkB,EAAejC,GAAGT,KAAlB,sBAA6B0C,EAAejC,GAAGT,MAA/C,CAAqDsD,IAEvDtE,EAAe0D,GAEjB,IAAIa,EAAI,YAAOhM,GACf6L,EAASI,SAAQ,SAACnH,GAChBkH,EAAKpB,KAAK9F,MAEZ+G,EAAS1C,OAAO,GAChBxB,EAAYqE,GACZ,IAAIjB,EAAO,YAAO9K,GAClB8K,EAAQH,KAAKoB,EAAK/B,SAClBrC,EAAemD,GACfzJ,QAAQC,IAAI,eAAgBiG,GAI5B0E,GACAxE,GAAc,IAkLdyE,SArHF,SAAkCC,GAEhC,IAAIC,EAAO,2BAAQpM,EAAY,IAApB,IAAwBsE,MAAO6H,IACtCrB,EAAO,YAAO9K,GAClB8K,EAAQ5B,OAAO,EAAG,EAAGkD,GACrBzE,EAAemD,GACXsB,EAAQpI,MAAMgH,SAAS,aA1B7B,WACE,IAAIR,EAAO,YAAOzK,GACd0K,EAAQ,CACVD,EAAQR,QACRQ,EAAQR,QACRQ,EAAQR,QACRQ,EAAQR,SAEVtC,EAAY8C,GACZ,IAAIE,EAAO,YAAOnD,EAAY,GAAGiB,MACjCkC,EAAQC,KAAKF,GACb,IAAI4B,EAAQ,2BAAQ9E,EAAY,IAApB,IAAwBiB,KAAMkC,IACtC4B,EAAQ/E,EAAY,GACpBtH,EAAO,YAAOsH,GAClBtH,EAAQ+J,QACR/J,EAAQ+J,QACRxC,EAAe,GAAD,mBAAKvH,GAAL,CAAcqM,EAAOD,KACnClE,EAAeD,EAAc,GAU3BqE,GAEAzC,IAEF3B,EAAeD,EAAc,IA2G7BsE,SAxGF,SAAkBC,GAChB,GAAI3M,GAAc2I,EAAlB,CACE,IAAIsD,EAAI,YAAOhM,GACX6K,EAASrD,EAAYkC,QAAO,SAACiD,GAAD,OAAOA,EAAEhE,SAAW+D,KAChD5H,EAAOkH,EAAK/B,QAKhB,GAJA3I,QAAQC,IAAI,YAAatB,EAAY,IACrCqB,QAAQC,IAAI,cAAeuD,GAE3B6C,EAAYqE,GAEVlH,EAAKP,QAAUtE,EAAY,GAAGsE,OAC9BO,EAAKb,QAAUhE,EAAY,GAAGgE,OAC9Ba,EAAKb,MAAM+G,WAAWC,SAAS,QAE/B3J,QAAQC,IAAI,sBACZsD,GAASC,EAAM7E,EAAY,QACtB,CACL,IAAI0K,EAAO,sBAAOE,EAAO,GAAGpC,MAAjB,CAAuB3D,IAC9B8H,EAAY,IAAIhE,EAClBiC,EAAO,GAAG1J,SACV0J,EAAO,GAAGlC,OACVgC,GAEEzK,EAAO,YAAOsH,GAClBtH,EAAQ+J,QACRxC,EAAe,GAAD,mBAAKvH,GAAL,CAAc0M,KAE9BxE,EAAeD,EAAc,KA8E/BtD,aAGF,OACE,cAACuC,EAAYD,SAAb,CAAsBlD,MAAOA,GAA7B,UACImC,GAAWH,IChSnB,IAAMxE,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACTC,cAAe,MACf+K,SAAU,OACVC,eAAgB,UAElBC,cAAe,CACbhL,OAAQ,QAEViL,aAAc,CACZnL,QAAS,OACTC,cAAe,SACf+K,SAAU,OACV7K,MAAO,QACPD,OAAQ,OACR+K,eAAgB,UAElBG,KAAM,CACJtJ,UAAW,SACXuJ,SAAU,GACVC,WAAY,YAiCDC,EA9BM,WAEnB,IAAMhK,EAAU3B,IAFS,EAGSuG,qBAAWZ,GAArCI,EAHiB,EAGjBA,YAAaK,EAHI,EAGJA,SAErB,OADAvG,QAAQC,IAAIiG,GAEV,cAAC6F,EAAA,EAAD,CAAKhK,UAAWD,EAAQxB,KAAxB,SACG4F,GACCA,EAAYjE,KAAI,SAACC,EAAGC,GAClB,GAAIoE,EAAS1G,WAAaqC,EAAErC,SAI5B,OACE,eAACkM,EAAA,EAAD,CAAehK,UAAWD,EAAQ4J,aAAlC,UACE,qBAAK3J,UAAWD,EAAQ6J,KAAxB,SAA+BzJ,EAAErC,WACjC,qBAAKkC,UAAWD,EAAQ2J,cAAxB,SACE,cAAC,EAAD,CAAMxI,MAAM,SAASN,MAAM,MAAMW,KAAK,YAGxC,sBAAKvB,UAAWD,EAAQ6J,KAAxB,UACGzJ,EAAEiF,KAAKnF,OADV,IACqC,IAAlBE,EAAEiF,KAAKnF,OAAe,OAAS,aAP1CG,S,kBCtChBhC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACTO,gBAAiB,qBACjBkL,OAAQ,OACRxL,cAAe,MACf+K,SAAU,OACVC,eAAgB,SAChBS,UAAW,+CA6BAC,EAzBE,WACf,IAAMpK,EAAU3B,IADK,EAEyCuG,qBAAWZ,GAAjEI,EAFa,EAEbA,YAAavH,EAFA,EAEAA,YAAaF,EAFb,EAEaA,WAAYuH,EAFzB,EAEyBA,UAE9C,OACE,eAACmG,EAAA,EAAD,CAAWpK,UAAaD,EAAQxB,KAAhC,WACkB,IAAf7B,GACC,oCACiB,IAAduH,EACD,mEACC,mEAIW,IAAfvH,GACC,gCACE,+BAAKyH,EAAY,IAAZ,UAAqBA,EAAY,GAAGrG,SAApC,MAAL,YACA,0DAA4B,qBAAKuC,MAAS,CAACa,MAAM,GAAD,OAAKtE,EAAY,GAAGsE,OAAS4I,WAAY,QAA7D,SAAuElN,EAAY,IAAZ,UAAqBA,EAAY,GAAGsE,MAAMmJ,oBAC7I,gCAAMlG,EAAY,IAAZ,UAAqBA,EAAY,GAAGrG,UAA1C,sBC/BJM,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCgM,SAAU,CACR9L,QAAS,OACTC,cAAe,MACf+K,SAAU,OACVC,eAAgB,cAiCLc,EA7BI,SAAC/K,GAClB,IAAMO,EAAU3B,IADY,EAE6BuG,qBACvDZ,GADMI,EAFoB,EAEpBA,YAAavH,EAFO,EAEPA,YAAa4H,EAFN,EAEMA,SAAUhD,EAFhB,EAEgBA,SAGtCgJ,EAAKrG,EAAYkC,QACrB,SAACmB,GAAD,OAAYA,EAAO1J,WAAa0G,EAAS1G,YACzC,GACF,OACE,mCACE,qBAAKkC,UAAWD,EAAQuK,SAAxB,SACGE,GACCA,EAAGpF,MACHoF,EAAGpF,KAAKlF,KAAI,SAACuB,EAAMrB,GAAP,OACV,cAAC,EAAD,CACEsB,QAAS9E,EAAY,GACrB4E,SAAUA,EACVC,KAAMA,EACNP,MAAK,UAAKO,EAAKP,OACfN,MAAK,UAAKa,EAAKb,OACfR,IAAKA,GACAA,W,sECqIJqK,EAxJG,SAACjL,GAAW,IAAD,EACLpD,mBAAS,IADJ,mBACpBsD,EADoB,aAEHtD,oBAAS,IAFN,mBAEpBsO,EAFoB,KAEdC,EAFc,KAGrBC,EAAUC,cAHW,EA2BvBlG,qBAAWZ,GAbbqF,EAdyB,EAczBA,SAGAnF,GAjByB,EAezBzC,SAfyB,EAgBzB6D,QAhByB,EAiBzBpB,WACAsE,EAlByB,EAkBzBA,UAEAO,GApByB,EAmBzBpC,YAnByB,EAoBzBoC,UACApM,EArByB,EAqBzBA,WAEAE,GAvByB,EAsBzByH,cAtByB,EAuBzBzH,aAGA4H,GA1ByB,EAwBzBD,eAxByB,EA0BzBC,UAkBF,OACE,sBAAKxE,UAAU,iBAAf,UACE,eAAC8K,EAAA,EAAD,CACEJ,KAAMA,EACNK,kBAAgB,qBAChBC,mBAAiB,2BAHnB,UAKE,cAACC,EAAA,EAAD,CAAaC,GAAG,qBAAhB,SAAsC,mBACtC,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAmBF,GAAG,2BAAtB,SACE,eAAC,IAAD,CAAOG,SAAS,QAAQrL,UAAU,QAAlC,sBACYN,EADZ,2CAKJ,cAAC4L,EAAA,EAAD,UACE,cAACtK,EAAA,EAAD,CACEG,QAAS,WACPwJ,GAAQ,IAEVzJ,MAAM,UAJR,qBAWJ,sBAAKlB,UAAU,uBAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,qBACEK,MAAO,CAAEtB,gBAAiB,SAC1BiB,UAAS,WACTmB,QAAS,WACPiI,EAAS5E,EAASc,aAKxB,qBAAKtF,UAAU,mBAAf,SACE,cAAC,EAAD,CACEkB,MAAOtE,EAAYqD,OAAS,EAAIrD,EAAY,GAAGsE,MAAQ,QACvDN,MAAOhE,EAAYqD,OAAS,EAAIrD,EAAY,GAAGgE,MAAQ,OAK3D,sBAAKZ,UAAU,uBAAf,WACiB,IAAdiE,IAAsC,IAAfvH,GACtB,cAACsE,EAAA,EAAD,CACEC,QAAQ,YACRC,MAAM,UACNN,MAAM,YACNZ,UAAU,cACVmB,QAAS,kBAAMoH,KALjB,yBAWa,IAAdtE,IAAqC,IAAfvH,GACrB,qBAAKsD,UAAU,OAAf,gCAGsB,IAAvBpD,EAAYqD,QAA0C,KAA1BrD,EAAY,GAAGgF,OAC1C,6BAEA,sBAAK5B,UAAU,aAAf,UACE,qBACEA,UAAU,YACVK,MAAO,CAAEtB,gBAAiB,QAC1BoC,QAAS,kBAAM2H,EAAS,WAE1B,qBACE9I,UAAU,YACVK,MAAO,CAAEtB,gBAAiB,SAC1BoC,QAAS,kBAAM2H,EAAS,YAE1B,qBACE9I,UAAU,YACVK,MAAO,CAAEtB,gBAAiB,OAC1BoC,QAAS,kBAAM2H,EAAS,UAE1B,qBACE9I,UAAU,YACVK,MAAO,CAAEtB,gBAAiB,UAC1BoC,QAAS,kBAAM2H,EAAS,sBAOlC,qBAAK9I,UAAU,aAAf,UACkB,IAAftD,GACC,cAACsE,EAAA,EAAD,CACEC,QAAQ,YACRC,MAAM,UACNN,MAAM,WACNZ,UAAU,WACVmB,QAvGO,WACfyJ,EAAQrD,KAAK,UAiGP,6BC/IJnJ,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiN,SAAU,CACR5M,MAAO,OACPsL,OAAQ,OACRuB,QAAS,GACT9M,OAAQ,kBAEV+M,aAAc,CACZ7M,UAAW,IACXF,OAAQ,WACRC,MAAO,qBAET+M,KAAM,CACJ9M,UAAW,IACXD,MAAO,oBACP2B,UAAW,SACX5B,OAAQ,YAEVY,KAAM,CACJV,UAAW,GACXM,SAAU,EACVP,MAAO,oBACP2B,UAAW,SACX9B,QAAS,OACTC,cAAe,SACfC,OAAQ,YAEViN,iBAAkB,CAChBH,QAAS,iBACThN,QAAS,OACTC,cAAe,UAEjBmN,UAAW,CACTjN,MAAO,oBAEPC,UAAW,IACXM,SAAU,EACVR,OAAQ,YAEVmN,QAAS,CAAEC,OAAQ,kBAAmBN,QAAS,EAAGxM,UAAW,UAE7D6I,WAAY,CACVjJ,UAAW,IACXD,MAAO,oBACPD,OAAQ,WACRM,UAAW,cAgJA+M,EA5IE,SAACvM,GAAW,IAAD,EAetBmF,qBAAWZ,GAbbE,EAFwB,EAExBA,UACAvH,EAHwB,EAGxBA,WACA2H,EAJwB,EAIxBA,cACAF,EALwB,EAKxBA,YACAC,EANwB,EAMxBA,eACAzH,EAPwB,EAOxBA,SACAC,EARwB,EAQxBA,YACA4H,EATwB,EASxBA,SACAtI,EAVwB,EAUxBA,KACAoI,EAXwB,EAWxBA,YACAQ,EAZwB,EAYxBA,YACAP,EAbwB,EAaxBA,eACAgB,EAdwB,EAcxBA,aAdwB,EAwBtBtJ,EAAUC,EAAM+H,GANlB5H,EAlBwB,EAkBxBA,SACAS,EAnBwB,EAmBxBA,SACAkB,EApBwB,EAoBxBA,eACAL,EArBwB,EAqBxBA,YACAI,EAtBwB,EAsBxBA,SACAI,EAvBwB,EAuBxBA,aAGFlB,qBAAU,WACR,IAAI+O,EAAS,IAAIzG,EAAaf,EAAS1G,SAAU0G,EAASc,OAAQ,IAClEnH,EAAa,eAAK6N,MACjB,IAEH/O,qBAAU,WACRc,EAASyG,EAAS1G,SAAU5B,KAC3B,CAACA,IAEJe,qBAAU,WACHP,GAAeuH,IAChBvH,IAAeuH,GAAWI,GAAc,GAC5CrG,EAAe,2BACVlB,GADS,IAEZJ,YAAY,EACZC,SAAS,YAAKA,GACdC,YAAY,YAAKA,SAElB,CAACF,IAEJO,qBAAU,WACRmH,EAAe,YAAItH,EAASD,YAC3B,CAACC,IA+BJG,qBAAU,WACRoH,EAAcvH,EAASJ,cACtB,CAACI,EAASJ,aAEbO,qBAAU,WACRsH,EAAezH,EAASF,eACvB,CAACE,EAASF,cAEbK,qBAAU,WACRqH,EAAYxH,EAASH,YACpB,CAACG,EAASH,WAEbM,qBAAU,WACY,IAAhB6H,GACJ9G,EAAe,CAAEnB,QAASsH,EAAavH,cAAaD,WAAUD,iBAC7D,CAACoI,IAEJ,IAAM/E,EAAU3B,IAEhB,OACE,eAAC6N,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGnM,UAAWD,EAAQwL,SAA/C,UACE,eAACU,EAAA,EAAD,CAAMG,GAAI,EAAGC,MAAI,EAACrM,UAAWD,EAAQ4L,iBAArC,UACE,cAACM,EAAA,EAAD,CAAMjM,UAAS,UAAKD,EAAQ2L,KAAb,YAAqB3L,EAAQ8L,SAA5C,SACE,cAAC,EAAD,MAEF,cAACI,EAAA,EAAD,CAAMjM,UAAS,UAAKD,EAAQT,KAAb,YAAqBS,EAAQ8L,SAA5C,SACE,cAAC,EAAD,CACExP,SAAUA,EACVyB,SAAU0G,EAAS1G,SACnBH,YAAaA,EACbI,SAAUA,SAIhB,eAACkO,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,EAAGpM,UAAWD,EAAQ4L,iBAArC,UACE,cAACM,EAAA,EAAD,CAAMjM,UAAS,UAAKD,EAAQ0L,aAAb,YAA6B1L,EAAQ8L,SAApD,SACE,cAAC,EAAD,MAEF,cAACI,EAAA,EAAD,CAAMjM,UAAS,UAAKD,EAAQ6L,UAAb,YAA0B7L,EAAQ8L,SAAjD,SACE,cAAC,EAAD,UACE,wBACE1K,QAAS,WACPlD,QAAQC,IAAIiG,GACZlG,QAAQC,IAAIpB,EAASD,UAHzB,kDAUJ,cAACoP,EAAA,EAAD,CAAMjM,UAAS,UAAKD,EAAQ8H,WAAb,YAA2B9H,EAAQ8L,SAAlD,SACE,cAAC,EAAD,a,iBC/KJzN,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCgO,KAAM,CACJ3N,MAAO,OACP4N,UAAWjO,EAAM6N,QAAQ,IAE3BK,MAAO,CACLD,UAAWjO,EAAM6N,QAAQ,GACzB3N,QAAS,OACTC,cAAe,SACfgO,WAAY,UAEdC,QAAS,CACPxL,MAAO,OAETyL,KAAM,CACJJ,UAAWjO,EAAM6N,QAAQ,IAE3BS,OAAQ,CACNlO,OAAQJ,EAAM6N,QAAQ,EAAG,EAAG,QAIhC,SAASU,EAAMrN,GACb,OAAO,cAAC,IAAD,aAAUsN,UAAW,EAAG7L,QAAQ,UAAazB,IAEvC,SAASuN,IAAY,IAAD,EAChB3Q,mBACf2J,KAAKE,SAAS0B,SAAS,IAAIW,UAAU,EAAG,GACtCvC,KAAKE,SAAS0B,SAAS,IAAIW,UAAU,EAAG,IAFrC0E,EAD0B,sBAKG5Q,mBAAS,IALZ,mBAK1B6Q,EAL0B,KAKdC,EALc,OAM2BvI,qBAC1DZ,GADMG,EANyB,EAMzBA,aAAciE,EANW,EAMXA,eAAgBzD,EANL,EAMKA,QANL,KAMcF,SAGfpI,mBAAS,KATR,mBAS1B0B,EAT0B,KAShBqP,EATgB,KAU3BpN,EAAU3B,IACVwM,EAAUC,cAXiB,EAYPzO,mBAAS,IAZF,mBAY1BgR,EAZ0B,KAYnBC,EAZmB,KAyCjC,SAASC,IACP,GAAIxP,EAASmC,OAAS,GAAKnC,EAASmC,OAAS,GAC3C,OAAOoN,EAAS,0DAElB,IACEA,EAAS,IACTlF,EAAerK,GACf,MAAOsP,GACPC,EAAS,4CAIb,OACE,cAACjD,EAAA,EAAD,CAAWmD,UAAU,OAAOhN,SAAS,KAArC,SACE,eAACyJ,EAAA,EAAD,CAAKwD,aAAc,GAAIlE,EAAG,EAAGwC,OAAQ,EAAG2B,YAAY,OAApD,UACE,cAACC,EAAA,EAAD,IACA,sBAAK1N,UAAWD,EAAQyM,MAAxB,UACE,cAACmB,EAAA,EAAD,CAAYJ,UAAU,KAAKtM,QAAQ,KAAnC,sBAGCmM,GAAS,cAAC,EAAD,CAAO/B,SAAS,QAAhB,SAAyB+B,IACnC,cAACnB,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACE,cAACF,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEQ,QAAQ,WACRmM,MAAOA,EAAMnN,OAAS,EACtB2N,MAAM,kBACNC,WAAS,EACTC,UAAQ,EACRC,KAAK,WACLC,aAAa,WACbC,WACEnQ,EAASmC,OAAS,EAAI,oCAAsC,GAE9DY,SAAU,SAACqN,GACTf,EAAYe,EAAEnN,OAAOH,QAEvBA,MAAO9C,WAKf,sBAAKkC,UAAWD,EAAQyM,MAAxB,UACE,cAACmB,EAAA,EAAD,CAAYJ,UAAU,KAAKtM,QAAQ,KAAnC,6BAGA,eAACgL,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,cAACF,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEoN,WAAS,EACTE,KAAK,cACLH,MAAM,eACN3M,QAAQ,WACRL,MAAOqM,EACPpM,SAAU,SAACqN,GACThB,EAAcgB,EAAEnN,OAAOH,YAI7B,cAACI,EAAA,EAAD,CACE6M,WAAS,EACTM,KAAK,SACLhN,QAAS,WACPmM,IA1Fd,SAAkBY,GAEhB,GACwB,IAAtBjB,EAAWhN,QACXnC,EAASmC,OAAS,GAClBnC,EAASmC,OAAS,GAGlB,OADAyE,EAAQuI,GACDrC,EAAQrD,KAAR,gBAAsB0F,IAE7BI,EAAS,+BAiFCe,IAEFC,SACwB,IAAtBpB,EAAWhN,QACXnC,EAASmC,OAAS,GAClBnC,EAASmC,OAAS,GAEpBgB,QAAQ,YACRC,MAAM,UAbR,6BAmBJ,sBAAKlB,UAAWD,EAAQyM,MAAxB,UACE,eAACmB,EAAA,EAAD,CAAYJ,UAAU,KAAKtM,QAAQ,KAAnC,0BACgB+L,KAEhB,cAACf,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACE,cAACnL,EAAA,EAAD,CACE6M,WAAS,EACT7N,UAAWD,EAAQ4M,KACnBwB,KAAK,SACLhN,QAAS,WACPmM,IArGd,WACE,GAAqB,IAAjBF,EAAMnN,OACR,IACEkI,EAAerK,GACf4G,EAAQsI,GACR9I,GAAa,GACb0G,EAAQrD,KAAR,gBAAsByF,IACtB,MAAOI,GACPC,EAAS,2BA8FDiB,IAEFD,SAAUvQ,EAASmC,OAAS,GAAKnC,EAASmC,OAAS,GACnDgB,QAAQ,YACRC,MAAM,UAVR,mC,mDCnJN9C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCkO,MAAO,CACLD,UAAWjO,EAAM6N,QAAQ,GACzB3N,QAAS,OACTC,cAAe,SACfgO,WAAY,UAEd8B,OAAQ,CACN7P,OAAQJ,EAAM6N,QAAQ,GACtBpN,gBAAiBT,EAAMkQ,QAAQC,UAAUC,MAE3CpC,KAAM,CACJ3N,MAAO,OACP4N,UAAWjO,EAAM6N,QAAQ,IAE3BS,OAAQ,CACNlO,OAAQJ,EAAM6N,QAAQ,EAAG,EAAG,QAIjB,SAASwC,KAAoB,IAAD,EACjBlM,IAAMrG,UAAS,GADE,mBAClCsO,EADkC,KAC5BC,EAD4B,KAGnCiE,EAAc,SAACC,EAAOC,GACX,cAAXA,GAIJnE,GAAQ,IAEJ5K,EAAU3B,KAVyB,EAWYuG,qBAAWnC,GAAxDK,EAXiC,EAWjCA,YAAae,EAXoB,EAWpBA,YAAaC,EAXO,EAWPA,eAC5BkL,EAAgBlM,EAAYM,MAZO,EAaf/G,mBAAS2S,GAbM,mBAalC5L,EAbkC,KAa3B6L,EAb2B,OAcT5S,mBAAS,IAdA,mBAclCgH,EAdkC,KAcxB6L,EAdwB,OAeK7S,mBAAS,IAfd,mBAelC8S,EAfkC,KAejBC,EAfiB,OAgBf/S,mBAAS,IAhBM,mBAgBlCgR,EAhBkC,KAgB3BC,EAhB2B,OAiBXjR,mBAAS,IAjBE,mBAiBlCgT,EAjBkC,KAiBzBC,EAjByB,OAkBXjT,oBAAS,GAlBE,mBAkBlC2G,EAlBkC,KAkBzBC,EAlByB,KAoBzC,SAAS6J,EAAMrN,GACb,OAAO,cAAC,IAAD,aAAUsN,UAAW,EAAG7L,QAAQ,UAAazB,IArBb,8CAwBzC,WAA8B0O,GAA9B,UAAAoB,EAAA,yDACEpB,EAAEqB,iBACFlC,EAAS,IACTgC,EAAW,IACPjM,IAAa8L,EAJnB,uBAKI7B,EAAS,wBACT1C,GAAQ,GANZ,iCASE3H,GAAW,GATb,mBAWUa,EAAeT,GAXzB,QAYIiM,EAAW,iCAZf,kDAcIhC,EAAS,kCAdb,yBAgBIrK,GAAW,GACX2H,GAAQ,GAjBZ,8EAxByC,oEA6CzC,WAA2BuD,GAA3B,UAAAoB,EAAA,yDACEpB,EAAEqB,iBACFlC,EAAS,IACJ,eAAemC,KAAKrM,IAAUA,IAAU4L,EAH/C,uBAII1B,EAAS,0BACT1C,GAAQ,GALZ,iCAQE3H,GAAW,GARb,mBAUUY,EAAYT,GAVtB,QAWIkM,EAAW,8BAXf,kDAaIhC,EAAS,kCAbb,yBAeIrK,GAAW,GACX2H,GAAQ,GAhBZ,8EA7CyC,sBAiEzC,OACE,cAACP,EAAA,EAAD,CAAWmD,UAAU,OAAOhN,SAAS,KAArC,SACE,eAACyJ,EAAA,EAAD,CAAKwD,aAAc,GAAIlE,EAAG,EAAGwC,OAAQ,EAAG2B,YAAY,OAApD,UACE,cAACC,EAAA,EAAD,IACA,sBAAK1N,UAAWD,EAAQyM,MAAxB,UACE,cAACmB,EAAA,EAAD,CAAYJ,UAAU,KAAKtM,QAAQ,KAAnC,6BAIA,sBAAMZ,MAAO,CAAEkM,UAAW,QAAUkD,YAAU,EAACzB,aAAa,MAA5D,SACE,sBAAKhO,UAAWD,EAAQxB,KAAxB,UACE,eAAC0N,EAAA,EAAD,CACEC,WAAS,EACTO,WAAW,SACXiD,UAAU,MACVvD,QAAS,EACTwD,QAAQ,SALV,UAOE,cAAChC,EAAA,EAAD,CAAYJ,UAAU,KAAKtM,QAAQ,KAAnC,0BAGA,cAACgL,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEyK,GAAG,YACH0C,MAAK,UACHzK,IAAU4L,EAAgB,aAAe,iBAE3C9N,QAAQ,WACR4M,WAAS,EACT+B,aAAcb,EACdlO,SAAU,SAACqN,GACTc,EAASd,EAAEnN,OAAOH,QAEpBwM,OAAQ,eAAeoC,KAAKrM,GAC5B8K,WACG,eAAeuB,KAAKrM,GAEjB,GADA,oCAMZ,cAAC8I,EAAA,EAAD,CAAMC,WAAS,EAACO,WAAW,SAASkD,QAAQ,WAA5C,SACE,cAAC3O,EAAA,EAAD,CACEmN,KAAK,SACLlN,QAAQ,YACRC,MAAM,UACNlB,UAAWD,EAAQ6M,OACnByB,SAAUtL,EACV5B,QAlHyB,4CA4G3B,4BAWF,eAAC8K,EAAA,EAAD,CACEC,WAAS,EACTO,WAAW,SACXiD,UAAU,MACVvD,QAAS,EACTwD,QAAQ,SALV,UAOE,cAAChC,EAAA,EAAD,CACEtN,MAAO,CAAEkM,UAAW,QACpBgB,UAAU,KACVtM,QAAQ,KAHV,6BAOA,cAACgL,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEoN,WAAS,EACT3C,GAAG,eACHiD,KAAK,WACLP,MAAK,uBAA+B,KAAbxK,EAAkB,WAAa,IACtDgK,MAAOhK,IAAa8L,EACpBjB,WACE7K,IAAa8L,EAAkB,uBAAyB,GAE1DjO,QAAQ,WACRL,MAAOwC,EACPvC,SAAU,SAACqN,GACTe,EAAYf,EAAEnN,OAAOH,eAK7B,eAACqL,EAAA,EAAD,CACEC,WAAS,EACTO,WAAW,SACXiD,UAAU,MACVvD,QAAS,EACTwD,QAAQ,SALV,UAOE,cAAC1D,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEJ,MAAO,CAAEkM,UAAW,QACpBsB,WAAS,EACT3C,GAAG,mBACH0C,MAAM,uBACN3M,QAAQ,WACRkN,KAAK,WACLvN,MAAOsO,EACPrO,SAAU,SAACqN,GACTiB,EAAmBjB,EAAEnN,OAAOH,QAE9BwM,MAAOhK,IAAa8L,EACpBjB,WACE7K,IAAa8L,EAAkB,uBAAyB,OAI9D,cAACjD,EAAA,EAAD,CAAMC,WAAS,EAACO,WAAW,SAASkD,QAAQ,WAA5C,SACE,cAAC3O,EAAA,EAAD,CACEmN,KAAK,SACLlN,QAAQ,YACRC,MAAM,UACNlB,UAAWD,EAAQ6M,OACnByB,SAAUtL,EACV5B,QAvLuB,4CAiLzB,kCAYJ,cAAC8K,EAAA,EAAD,CACEC,WAAS,EACTO,WAAW,SACXiD,UAAU,MACVvD,QAAS,EACTwD,QAAQ,WAEV,cAAC1D,EAAA,EAAD,CACE5L,MAAO,CAAEkM,UAAW,QACpBL,WAAS,EACTO,WAAW,SACXiD,UAAU,MACVvD,QAAS,EACTwD,QAAQ,WANV,SAQE,8BACE,cAACE,GAAA,EAAD,CAAMtC,UAAWuC,IAASC,GAAG,IAA7B,gCAQV,cAAC/F,EAAA,EAAD,CAAKgG,GAAI,IAET,cAACC,GAAA,EAAD,CAAUvF,KAAMA,EAAMwF,iBAAkB,IAAMC,QAASvB,EAAvD,SACE,cAAC/B,EAAD,CAAOsD,QAASvB,EAAavD,SAAU+B,EAAQ,QAAU,UAAzD,SACGA,GAAgBgC,W,uDC1OvBhR,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACPG,OAAQJ,EAAM6N,QAAQ,GAEtB5L,SAAU,OACV6P,SAAU,OACVC,WAAY,EACZC,YAAa,GAEfC,YAAa,EACbC,aAAc,EACdtR,SAAU,GAEZsN,MAAO,CACLD,UAAWjO,EAAM6N,QAAQ,GACzB3N,QAAS,OACTC,cAAe,SACfgO,WAAY,UAEd8B,OAAQ,CACN7P,OAAQJ,EAAM6N,QAAQ,GACtBpN,gBAAiBT,EAAMkQ,QAAQC,UAAUC,MAE3CpC,KAAM,CACJ3N,MAAO,OACP4N,UAAWjO,EAAM6N,QAAQ,IAE3BS,OAAQ,CACNlO,OAAQJ,EAAM6N,QAAQ,EAAG,EAAG,IAE9BnC,IAAK,CACHwB,QAASlN,EAAM6N,QAAQ,QAIZ,SAASsE,KAAa,IAAD,EACRrU,mBAAS,IADD,mBAC3B+G,EAD2B,KACpB6L,EADoB,OAEF5S,mBAAS,IAFP,mBAE3BgH,EAF2B,KAEjB6L,EAFiB,KAG1B3L,EAAUqB,qBAAWnC,GAArBc,MAH0B,EAIRlH,mBAAS,IAJD,mBAI3BgR,EAJ2B,KAIpBC,EAJoB,OAKJjR,oBAAS,GALL,mBAK3B2G,EAL2B,KAKlBC,EALkB,KAO5BjD,EAAU3B,KAEhB,SAASyO,EAAMrN,GACb,OAAO,cAAC,IAAD,aAAUsN,UAAW,EAAG7L,QAAQ,UAAazB,IAVpB,8CAalC,WAA4B0O,GAA5B,UAAAoB,EAAA,6DACEpB,EAAEqB,iBADJ,SAIIlC,EAAS,IACTrK,GAAW,GALf,SAMUM,EAAMH,EAAOC,GANvB,iEASIiK,EAAS,8DATb,QAWErK,GAAW,GAXb,0DAbkC,sBA0BlC,OACE,cAACoH,EAAA,EAAD,CAAWmD,UAAU,OAAOhN,SAAS,KAArC,SACE,eAACyJ,EAAA,EAAD,CAAKwD,aAAc,GAAIlE,EAAG,EAAGwC,OAAQ,EAAG2B,YAAY,OAApD,UACE,cAACC,EAAA,EAAD,IACA,sBAAK1N,UAAWD,EAAQyM,MAAxB,UACE,cAACkE,GAAA,EAAD,CAAQ1Q,UAAWD,EAAQwO,OAA3B,SACE,cAAC,KAAD,MAEF,cAACZ,EAAA,EAAD,CAAYJ,UAAU,KAAKtM,QAAQ,KAAnC,oBAGCmM,GAAS,cAACP,EAAD,CAAOxB,SAAS,QAAhB,SAAyB+B,IACnC,uBAAMpN,UAAWD,EAAQuM,KAAMmD,YAAU,EAAzC,UACE,cAAChP,EAAA,EAAD,CACEQ,QAAQ,WACRvC,OAAO,SACPoP,UAAQ,EACRD,WAAS,EACT3C,GAAG,QACHtK,MAAOuC,EACPyK,MAAM,gBACNG,KAAK,QACLC,aAAa,QACb2C,WAAS,EACT9P,SAAU,SAACqN,GAAD,OAAOc,EAASd,EAAEnN,OAAOH,UAErC,cAACH,EAAA,EAAD,CACEQ,QAAQ,WACRvC,OAAO,SACPoP,UAAQ,EACRD,WAAS,EACTE,KAAK,WACLH,MAAM,WACNO,KAAK,WACLjD,GAAG,WACHtK,MAAOwC,EACP4K,aAAa,mBACbnN,SAAU,SAACqN,GAAD,OAAOe,EAAYf,EAAEnN,OAAOH,UAExC,cAACgQ,GAAA,EAAD,CACEC,QAAS,cAACC,GAAA,EAAD,CAAUlQ,MAAM,WAAWM,MAAM,YAC1C0M,MAAM,gBAER,cAAC5M,EAAA,EAAD,CACEmN,KAAK,SACLN,WAAS,EACT5M,QAAQ,YACRC,MAAM,UACNmN,SAAUtL,EACV/C,UAAWD,EAAQ6M,OACnBzL,QA5EsB,4CAqExB,mBAWA,eAAC8K,EAAA,EAAD,CAAMC,WAAS,EAAf,UACE,cAACD,EAAA,EAAD,CAAMI,MAAI,EAACD,IAAE,EAAb,SACE,cAACyD,GAAA,EAAD,CAAMtC,UAAWuC,IAASC,GAAG,kBAAkB9O,QAAQ,QAAvD,gCAIF,cAACgL,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACwD,GAAA,EAAD,CAAMtC,UAAWuC,IAASC,GAAG,UAAU9O,QAAQ,QAA/C,SACG,8CAMX,cAAC+I,EAAA,EAAD,CAAKgG,GAAI,SCtIjB,IAAM5R,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCkO,MAAO,CACLD,UAAWjO,EAAM6N,QAAQ,GACzB3N,QAAS,OACTC,cAAe,SACfgO,WAAY,UAEd8B,OAAQ,CACN7P,OAAQJ,EAAM6N,QAAQ,GACtBpN,gBAAiBT,EAAMkQ,QAAQC,UAAUC,MAE3CpC,KAAM,CACJ3N,MAAO,OACP4N,UAAWjO,EAAM6N,QAAQ,IAE3BS,OAAQ,CACNlO,OAAQJ,EAAM6N,QAAQ,EAAG,EAAG,QAIjB,SAAS4E,KACtB,IAAMhR,EAAU3B,KADmB,EAEThC,mBAAS,IAFA,mBAE5B+G,EAF4B,KAErB6L,EAFqB,OAGH5S,mBAAS,IAHN,mBAG5BgH,EAH4B,KAGlB6L,EAHkB,OAIW7S,mBAAS,IAJpB,mBAI5B8S,EAJ4B,KAIXC,EAJW,KAK3BjM,EAAWyB,qBAAWnC,GAAtBU,OAL2B,EAMT9G,mBAAS,IANA,mBAM5BgR,EAN4B,KAMrBC,EANqB,OAOLjR,oBAAS,GAPJ,mBAO5B2G,EAP4B,KAOnBC,EAPmB,KASnC,SAAS6J,EAAMrN,GACb,OAAO,cAAC,IAAD,aAAUsN,UAAW,EAAG7L,QAAQ,UAAazB,IAVnB,8CAanC,WAA4B0O,GAA5B,UAAAoB,EAAA,yDACEpB,EAAEqB,iBACEnM,IAAa8L,EAFnB,yCAGW7B,EAAS,yBAHpB,uBAMIA,EAAS,IACTrK,GAAW,GAPf,SAQUE,EAAOC,EAAOC,GARxB,yDAUIiK,EACE,qEAXN,QAcErK,GAAW,GAdb,2DAbmC,sBA8BnC,OACE,cAACoH,EAAA,EAAD,CAAWmD,UAAU,OAAOhN,SAAS,KAArC,SACE,eAACyJ,EAAA,EAAD,CAAKwD,aAAc,GAAIlE,EAAG,EAAGwC,OAAQ,EAAG2B,YAAY,OAApD,UACE,cAACC,EAAA,EAAD,IACA,sBAAK1N,UAAWD,EAAQyM,MAAxB,UACE,cAACmB,EAAA,EAAD,CAAYJ,UAAU,KAAKtM,QAAQ,KAAnC,qBAGCmM,GAAS,cAACP,EAAD,CAAOxB,SAAS,QAAhB,SAAyB+B,IACnC,uBAAM4D,SAvCqB,4CAuCGhR,UAAWD,EAAQuM,KAAjD,UACE,eAACL,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,cAACF,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEQ,QAAQ,WACR6M,UAAQ,EACRD,WAAS,EACT3C,GAAG,QACH0C,MAAM,gBACNG,KAAK,QACLC,aAAa,QACbpN,MAAOuC,EACPtC,SAAU,SAACqN,GAAD,OAAOc,EAASd,EAAEnN,OAAOH,YAE/B,IACR,cAACqL,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEQ,QAAQ,WACR6M,UAAQ,EACRD,WAAS,EACTE,KAAK,WACLH,MAAM,WACNO,KAAK,WACLjD,GAAG,WACH8C,aAAa,mBACbpN,MAAOwC,EACPvC,SAAU,SAACqN,GAAD,OAAOe,EAAYf,EAAEnN,OAAOH,YAG1C,cAACqL,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEQ,QAAQ,WACR6M,UAAQ,EACRD,WAAS,EACTE,KAAK,YACLH,MAAM,oBACNO,KAAK,WACLjD,GAAG,YACH8C,aAAa,mBACbpN,MAAOsO,EACPrO,SAAU,SAACqN,GAAD,OAAOiB,EAAmBjB,EAAEnN,OAAOH,eAInD,cAACI,EAAA,EAAD,CACEmN,KAAK,SACLN,WAAS,EACT5M,QAAQ,YACRC,MAAM,UACNlB,UAAWD,EAAQ6M,OACnByB,SAAUtL,EANZ,qBAUA,cAACkJ,EAAA,EAAD,CAAMC,WAAS,EAACyD,QAAQ,WAAxB,SACE,cAAC1D,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACwD,GAAA,EAAD,CAAMtC,UAAWuC,IAASC,GAAG,SAAS9O,QAAQ,QAA9C,wDAOR,cAAC+I,EAAA,EAAD,CAAKgG,GAAI,SC1HjB,IAAM5R,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCkO,MAAO,CACLD,UAAWjO,EAAM6N,QAAQ,GACzB3N,QAAS,OACTC,cAAe,SACfgO,WAAY,UAEd8B,OAAQ,CACN7P,OAAQJ,EAAM6N,QAAQ,GACtBpN,gBAAiBT,EAAMkQ,QAAQC,UAAUC,MAE3CpC,KAAM,CACJ3N,MAAO,OACP4N,UAAWjO,EAAM6N,QAAQ,IAE3BS,OAAQ,CACNlO,OAAQJ,EAAM6N,QAAQ,EAAG,EAAG,QAIjB,SAAS8E,KACtB,IAAMlR,EAAU3B,KAD0B,EAEhBhC,mBAAS,IAFO,mBAEnC+G,EAFmC,KAE5B6L,EAF4B,KAGlCtL,EAAkBiB,qBAAWnC,GAA7BkB,cAHkC,EAIZtH,mBAAS,IAJG,mBAInC8U,EAJmC,KAI1BC,EAJ0B,OAKhB/U,mBAAS,IALO,mBAKnCgR,EALmC,KAK5BC,EAL4B,OAMZjR,oBAAS,GANG,mBAMnC2G,EANmC,KAM1BC,EAN0B,KAQ1C,SAAS6J,EAAMrN,GACb,OAAO,cAAC,IAAD,aAAUsN,UAAW,EAAG7L,QAAQ,UAAazB,IATZ,8CAW1C,WAA4B0O,GAA5B,UAAAoB,EAAA,yDACEpB,EAAEqB,iBACG,eAAeC,KAAKrM,GAF3B,yCAGWkK,EAAS,+BAHpB,uBAMI8D,EAAW,IACX9D,EAAS,IACTrK,GAAW,GARf,SASUU,EAAcP,GATxB,OAUIgO,EAAW,oDAVf,kDAYI9D,EAAS,6BAZb,QAcErK,GAAW,GAdb,2DAX0C,sBA2B1C,OACE,cAACoH,EAAA,EAAD,CAAWmD,UAAU,OAAOhN,SAAS,KAArC,SACE,eAACyJ,EAAA,EAAD,CAAKwD,aAAc,GAAIlE,EAAG,EAAGwC,OAAQ,EAAG2B,YAAY,OAApD,UACE,cAACC,EAAA,EAAD,IACA,sBAAK1N,UAAWD,EAAQyM,MAAxB,UACE,cAACmB,EAAA,EAAD,CAAYJ,UAAU,KAAKtM,QAAQ,KAAnC,4BAGCmM,GAAS,cAACP,EAAD,CAAOxB,SAAS,QAAhB,SAAyB+B,IAClC8D,GAAW,cAACrE,EAAD,CAAOxB,SAAS,UAAhB,SAA2B6F,IACvC,uBAAMF,SArC4B,4CAqCJhR,UAAWD,EAAQuM,KAAjD,UACE,eAACL,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,cAACF,EAAA,EAAD,CAAMI,MAAI,EAACD,GAAI,GAAf,SACE,cAAC3L,EAAA,EAAD,CACEQ,QAAQ,WACR6M,UAAQ,EACRD,WAAS,EACT3C,GAAG,QACH0C,MAAM,gBACNG,KAAK,QACLC,aAAa,QACbpN,MAAOuC,EACPtC,SAAU,SAACqN,GAAD,OAAOc,EAASd,EAAEnN,OAAOH,YAE/B,OAEV,cAACI,EAAA,EAAD,CACEmN,KAAK,SACLN,WAAS,EACT5M,QAAQ,YACRC,MAAM,UACNlB,UAAWD,EAAQ6M,OACnByB,SAAUtL,EANZ,4BAUA,eAACkJ,EAAA,EAAD,CAAMC,WAAS,EAAf,UACE,cAACD,EAAA,EAAD,CAAMI,MAAI,EAACD,IAAE,EAAb,SACE,cAACyD,GAAA,EAAD,CAAMtC,UAAWuC,IAASC,GAAG,SAAS9O,QAAQ,QAA9C,uCAIF,cAACgL,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACwD,GAAA,EAAD,CAAMtC,UAAWuC,IAASC,GAAG,UAAU9O,QAAQ,QAA/C,SACG,8CAMX,cAAC+I,EAAA,EAAD,CAAKgG,GAAI,SC9GjB,IASeoB,GATS,SAAC,GAAoD,IAAlDvO,EAAiD,EAAjDA,YAAawO,EAAoC,EAApCA,aAAc9D,EAAsB,EAAtBA,UAAW+D,EAAW,EAAXA,KACzDC,EAAWF,EAAe,SAAW,QAE3C,OAAKA,IAAiBxO,IAAkBwO,GAAgBxO,EAC/C,cAAC,IAAD,CAAUkN,GAAIwB,IAEhB,cAAC,IAAD,CAAOC,OAAK,EAACF,KAAMA,EAAM/D,UAAWA,K,gJCOvCnP,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJW,SAAU,GAEZuS,WAAY,CACVnB,YAAahS,EAAM6N,QAAQ,IAE7BuF,MAAO,CACLxS,SAAU,GAEZgN,UAAW,CACTK,UAAW,IAEboF,SAAU,CACRtB,WAAY,GAEduB,KAAM,CACJ,YAAa,CACXC,eAAgB,aAqFPC,GAhFC,WACd,IAAM/R,EAAU3B,KADI,EAEYuG,qBAAWnC,GAAnCK,EAFY,EAEZA,YAAaW,EAFD,EAECA,OAFD,EAGYf,IAAMrG,SAAS,MAH3B,mBAGb2V,EAHa,KAGHC,EAHG,KAIdtH,EAAOuH,QAAQF,GAMfnD,EAAc,WAClBoD,EAAY,OAQd,OACE,cAACE,GAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,GAAA,EAAD,WACE,cAACzE,EAAA,EAAD,CAAY1M,QAAQ,KAAKjB,UAAWD,EAAQ2R,MAA5C,+BAGC7O,GACC,gCACE,cAACwP,GAAA,EAAD,CACEC,aAAW,0BACXC,gBAAc,cACdC,gBAAc,OACdrR,QAzBO,SAAC0N,GAClBmD,EAAYnD,EAAM4D,gBAyBRvR,MAAM,UALR,SAOE,cAAC,KAAD,MAEF,eAACwR,GAAA,EAAD,CACExH,GAAG,cACH6G,SAAUA,EACVY,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,aAAW,EACXC,gBAAiB,CACfH,SAAU,MACVC,WAAY,SAEdnI,KAAMA,EACNyF,QAASvB,EAbX,UAeE,cAACoE,GAAA,EAAD,CAAU7R,QAASyN,EAAarB,UAAWuC,IAASC,GAAG,QAAvD,SACE,eAACkD,GAAA,EAAD,WACE,cAAC,KAAD,CAAUpJ,SAAS,UACnB,qBAAK7J,UAAWD,EAAQ4R,SAAxB,uBAGJ,cAACqB,GAAA,EAAD,CACE7R,QAASyN,EACTrB,UAAWuC,IACXC,GAAG,YAHL,SAKE,eAACkD,GAAA,EAAD,WACE,cAAC,KAAD,CAAcpJ,SAAS,UACvB,qBAAK7J,UAAWD,EAAQ4R,SAAxB,gCAGJ,cAACqB,GAAA,EAAD,CAAU7R,QArDH,WACjByN,IACApL,KAmDU,SACE,eAACyP,GAAA,EAAD,WACE,cAAC,KAAD,CAAepJ,SAAS,UACxB,qBAAK7J,UAAWD,EAAQ4R,SAAxB,qCCxCHuB,OApDf,WAAgB,IACNrQ,EAAgB8B,qBAAWnC,GAA3BK,YACR,OACE,eAAC,IAAD,WACE,cAAC,GAAD,IACA,sBAAK7C,UAAU,YAAf,UACE,eAAC,IAAD,WACE,cAAC,GAAD,CACE6C,YAAaA,EACbyO,KAAK,SACLD,cAAc,EACd9D,UAAWkD,KAEb,cAAC,GAAD,CACE5N,YAAaA,EACbyO,KAAK,UACLD,cAAc,EACd9D,UAAWwD,KAEb,cAAC,GAAD,CACElO,YAAaA,EACbyO,KAAK,kBACLD,cAAc,EACd9D,UAAW0D,KAEb,cAAC,GAAD,CACEpO,YAAaA,EACbyO,KAAK,YACLD,cAAc,EACd9D,UAAWoB,KAEb,cAAC,GAAD,CACE9L,YAAaA,EACbyO,KAAK,gBACLD,cAAc,EACd9D,UAAWxB,IAEb,cAAC,GAAD,CACElJ,YAAaA,EACbyO,KAAK,QACLD,cAAc,EACd9D,UAAWR,OAGf,cAAC,IAAD,CAAOuE,KAAK,IAAZ,SACE,cAAC,IAAD,CAAUvB,GAAG,oBClDRoD,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,OCCdQ,IAASC,OACP,cAAClR,EAAD,UACE,cAACqB,EAAD,UACE,cAAC,GAAD,QAGJ8P,SAASC,eAAe,SAG1BZ,O","file":"static/js/main.37604e30.chunk.js","sourcesContent":["import { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nconst SERVER_URL = \"https://midland-uno-clone.herokuapp.com\";\r\n\r\nconst useSocket = (room, isHost) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const socketRef = useRef();\r\n  const [isHostSoc] = useState(isHost);\r\n  const [gameData, setGameData] = useState({\r\n    gameActive: false,\r\n    drawDeck: [],\r\n    discardDeck: [],\r\n    players: [],\r\n  });\r\n  const gameRef = useRef();\r\n  useEffect(() => {\r\n    gameRef.current = {\r\n      gameActive: false,\r\n      drawDeck: [],\r\n      discardDeck: [],\r\n      players: [],\r\n    };\r\n    setMessages(() => []);\r\n    socketRef.current = socketIOClient(SERVER_URL, { query: { room } });\r\n    socketRef.current.on(\"leave room\", (data) => {\r\n      setMessages((msgs) => [...msgs, data]);\r\n    });\r\n    socketRef.current.on(\"message\", (data) => {\r\n      setMessages((msgs) => [...msgs, data]);\r\n    });\r\n\r\n    socketRef.current.on(`update players on join`, (data) => {\r\n      if (isHostSoc && data.room == room) {\r\n        const newGameData = {\r\n          ...gameRef.current,\r\n          players: [...gameRef.current.players, data.user],\r\n        };\r\n        setGameData({ ...newGameData });\r\n        gameRef.current = newGameData;\r\n        socketRef.current.emit(\"host data send\", newGameData);\r\n      }\r\n    });\r\n\r\n    socketRef.current.on(\"host data\", (data) => {\r\n      if (!isHostSoc) return;\r\n      gameRef.current = { ...data };\r\n      setGameData({ ...data });\r\n      socketRef.current.emit(\"host data send\", { ...data });\r\n    });\r\n\r\n    socketRef.current.on(\"update game\", (data) => {\r\n      if (isHostSoc) return;\r\n      setGameData({ ...data });\r\n    });\r\n  }, []);\r\n\r\n  const sendMessage = useCallback((body, username) => {\r\n    socketRef.current.emit(\"message\", {\r\n      username,\r\n      body,\r\n      room,\r\n    });\r\n  }, []);\r\n\r\n  const joinRoom = useCallback((username) => {\r\n    socketRef.current.emit(\"join room\", { username, room });\r\n  }, []);\r\n\r\n  const sendPlayerData = useCallback((data) => {\r\n    console.log(data);\r\n    socketRef.current.emit(\"send player data\", { ...data });\r\n  }, []);\r\n\r\n  const sendJoinGame = useCallback((data) => {\r\n    socketRef.current.emit(\"send enter room to host\", { ...data });\r\n  });\r\n\r\n  return {\r\n    messages,\r\n    gameData,\r\n    sendMessage,\r\n    joinRoom,\r\n    sendPlayerData,\r\n    sendJoinGame,\r\n  };\r\n};\r\n\r\nexport default useSocket;\r\n","import { React, useState, useRef, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: 2,\r\n    width: \"calc(100% - 4px)\",\r\n    flexBasis: \"100%\",\r\n  },\r\n  chatEntry: {\r\n    flexBasis: 50,\r\n  },\r\n  chatDisplay: {\r\n    display: \"flex\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.2)\",\r\n    flexDirection: \"column\",\r\n    overflowY: `auto`,\r\n    textOverflow: `clip`,\r\n    flexBasis: 100,\r\n    flexGrow: 1,\r\n  },\r\n  chatInput: {\r\n    marginBottom: 10,\r\n    width: \"100%\",\r\n  },\r\n  chatButton: {\r\n    width: \"100%\",\r\n  },\r\n  chat: {},\r\n}));\r\nconst Chat = (props) => {\r\n  //Chat will need the Username and the Room passed through props\r\n  const msgEndRef = useRef(null);\r\n  const scrollToBottom = () => {\r\n    msgEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n  const [msg, setMsg] = useState(\"\");\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [props.messages]);\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.chatDisplay}>\r\n        {props.messages.length > 0 &&\r\n          props.messages.map((m, idx) => {\r\n            return (\r\n              <div\r\n                className={classes.chat}\r\n                style={{ textAlign: \"left\" }}\r\n                key={idx}\r\n              >\r\n                <b>{m.username}</b>\r\n                <div style={{ maxWidth: \"200px\" }}>{m.body}</div>\r\n              </div>\r\n            );\r\n          })}\r\n        <div ref={msgEndRef} />\r\n      </div>\r\n      <div className={classes.chatEntry}>\r\n        <TextField\r\n          multiline\r\n          placeholder=\"Chat here...\"\r\n          value={msg}\r\n          className={classes.chatInput}\r\n          onChange={(evt) => {\r\n            setMsg(evt.target.value);\r\n          }}\r\n        ></TextField>\r\n        <Button\r\n          className={classes.chatButton}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            if (msg) {\r\n              props.sendMessage(msg, props.username);\r\n              setMsg(\"\");\r\n            }\r\n          }}\r\n        >\r\n          Send\r\n        </Button>\r\n        {/* <button onClick = {()=>{props.joinRoom()}}>Join Room</button>  */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Chat;\r\n","import React from \"react\";\r\nimport \"./Card.css\";\r\n\r\nconst Card = (props) => {\r\n  let firstChar = `${props.value}`.charAt(0);\r\n  return (\r\n    <>\r\n      {props.size === \"small\" ? (\r\n        <div\r\n          onClick={() => {\r\n            if (props.playCard)\r\n              props.playCard(props.card, props.topCard, props.idx);\r\n          }}\r\n          style={{ backgroundColor: `${props.color}` }}\r\n          className={`cardSmall`}\r\n        >\r\n          <div className=\"card-top-left\">{props.value}</div>\r\n          <div className=\"inner\">{firstChar}</div>\r\n          <div className=\"card-bottom-right\">{props.value}</div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          onClick={() => {\r\n            if (props.playCard)\r\n              props.playCard(props.card, props.topCard, props.idx);\r\n          }}\r\n          style={{ backgroundColor: `${props.color}` }}\r\n          className={`card`}\r\n        >\r\n          <div className=\"card-top-left\">{props.value}</div>\r\n          <div className=\"inner\">{firstChar}</div>\r\n          <div className=\"card-bottom-right\">{props.value}</div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Card;\r\n","const deck = [\r\n  { value: 0, color: \"blue\", points: 0 },\r\n  { value: 0, color: \"green\", points: 0 },\r\n  { value: 0, color: \"red\", points: 0 },\r\n  { value: 0, color: \"yellow\", points: 0 },\r\n  { value: 1, color: \"blue\", points: 1 },\r\n  { value: 1, color: \"blue\", points: 1 },\r\n  { value: 1, color: \"green\", points: 1 },\r\n  { value: 1, color: \"green\", points: 1 },\r\n  { value: 1, color: \"red\", points: 1 },\r\n  { value: 1, color: \"red\", points: 1 },\r\n  { value: 1, color: \"yellow\", points: 1 },\r\n  { value: 1, color: \"yellow\", points: 1 },\r\n  { value: 2, color: \"blue\", points: 2 },\r\n  { value: 2, color: \"blue\", points: 2 },\r\n  { value: 2, color: \"green\", points: 2 },\r\n  { value: 2, color: \"green\", points: 2 },\r\n  { value: 2, color: \"red\", points: 2 },\r\n  { value: 2, color: \"red\", points: 2 },\r\n  { value: 2, color: \"yellow\", points: 2 },\r\n  { value: 2, color: \"yellow\", points: 2 },\r\n  { value: 3, color: \"blue\", points: 3 },\r\n  { value: 3, color: \"blue\", points: 3 },\r\n  { value: 3, color: \"green\", points: 3 },\r\n  { value: 3, color: \"green\", points: 3 },\r\n  { value: 3, color: \"red\", points: 3 },\r\n  { value: 3, color: \"red\", points: 3 },\r\n  { value: 3, color: \"yellow\", points: 3 },\r\n  { value: 3, color: \"yellow\", points: 3 },\r\n  { value: 4, color: \"blue\", points: 4 },\r\n  { value: 4, color: \"blue\", points: 4 },\r\n  { value: 4, color: \"green\", points: 4 },\r\n  { value: 4, color: \"green\", points: 4 },\r\n  { value: 4, color: \"red\", points: 4 },\r\n  { value: 4, color: \"red\", points: 4 },\r\n  { value: 4, color: \"yellow\", points: 4 },\r\n  { value: 4, color: \"yellow\", points: 4 },\r\n  { value: 5, color: \"blue\", points: 5 },\r\n  { value: 5, color: \"blue\", points: 5 },\r\n  { value: 5, color: \"green\", points: 5 },\r\n  { value: 5, color: \"green\", points: 5 },\r\n  { value: 5, color: \"red\", points: 5 },\r\n  { value: 5, color: \"red\", points: 5 },\r\n  { value: 5, color: \"yellow\", points: 5 },\r\n  { value: 5, color: \"yellow\", points: 5 },\r\n  { value: 6, color: \"blue\", points: 6 },\r\n  { value: 6, color: \"blue\", points: 6 },\r\n  { value: 6, color: \"green\", points: 6 },\r\n  { value: 6, color: \"green\", points: 6 },\r\n  { value: 6, color: \"red\", points: 6 },\r\n  { value: 6, color: \"red\", points: 6 },\r\n  { value: 6, color: \"yellow\", points: 6 },\r\n  { value: 6, color: \"yellow\", points: 6 },\r\n  { value: 7, color: \"blue\", points: 7 },\r\n  { value: 7, color: \"blue\", points: 7 },\r\n  { value: 7, color: \"green\", points: 7 },\r\n  { value: 7, color: \"green\", points: 7 },\r\n  { value: 7, color: \"red\", points: 7 },\r\n  { value: 7, color: \"red\", points: 7 },\r\n  { value: 7, color: \"yellow\", points: 7 },\r\n  { value: 7, color: \"yellow\", points: 7 },\r\n  { value: 8, color: \"blue\", points: 8 },\r\n  { value: 8, color: \"blue\", points: 8 },\r\n  { value: 8, color: \"green\", points: 8 },\r\n  { value: 8, color: \"green\", points: 8 },\r\n  { value: 8, color: \"red\", points: 8 },\r\n  { value: 8, color: \"red\", points: 8 },\r\n  { value: 8, color: \"yellow\", points: 8 },\r\n  { value: 8, color: \"yellow\", points: 8 },\r\n  { value: 9, color: \"blue\", points: 9 },\r\n  { value: 9, color: \"blue\", points: 9 },\r\n  { value: 9, color: \"green\", points: 9 },\r\n  { value: 9, color: \"green\", points: 9 },\r\n  { value: 9, color: \"red\", points: 9 },\r\n  { value: 9, color: \"red\", points: 9 },\r\n  { value: 9, color: \"yellow\", points: 9 },\r\n  { value: 9, color: \"yellow\", points: 9 },\r\n  { value: \"Draw Two\", color: \"blue\", points: 20 },\r\n  { value: \"Draw Two\", color: \"blue\", points: 20 },\r\n  { value: \"Draw Two\", color: \"green\", points: 20 },\r\n  { value: \"Draw Two\", color: \"green\", points: 20 },\r\n  { value: \"Draw Two\", color: \"red\", points: 20 },\r\n  { value: \"Draw Two\", color: \"red\", points: 20 },\r\n  { value: \"Draw Two\", color: \"yellow\", points: 20 },\r\n  { value: \"Draw Two\", color: \"yellow\", points: 20 },\r\n  { value: \"Reverse\", color: \"blue\", points: 20 },\r\n  { value: \"Reverse\", color: \"blue\", points: 20 },\r\n  { value: \"Reverse\", color: \"green\", points: 20 },\r\n  { value: \"Reverse\", color: \"green\", points: 20 },\r\n  { value: \"Reverse\", color: \"red\", points: 20 },\r\n  { value: \"Reverse\", color: \"red\", points: 20 },\r\n  { value: \"Reverse\", color: \"yellow\", points: 20 },\r\n  { value: \"Reverse\", color: \"yellow\", points: 20 },\r\n  { value: \"Skip\", color: \"blue\", points: 20 },\r\n  { value: \"Skip\", color: \"blue\", points: 20 },\r\n  { value: \"Skip\", color: \"green\", points: 20 },\r\n  { value: \"Skip\", color: \"green\", points: 20 },\r\n  { value: \"Skip\", color: \"red\", points: 20 },\r\n  { value: \"Skip\", color: \"red\", points: 20 },\r\n  { value: \"Skip\", color: \"yellow\", points: 20 },\r\n  { value: \"Skip\", color: \"yellow\", points: 20 },\r\n  { value: \"Wild\", color: \"black\", points: 50 },\r\n  { value: \"Wild\", color: \"black\", points: 50 },\r\n  { value: \"Wild\", color: \"black\", points: 50 },\r\n  { value: \"Wild\", color: \"black\", points: 50 },\r\n  { value: \"Wild Draw Four\", color: \"black\", points: 50 },\r\n  { value: \"Wild Draw Four\", color: \"black\", points: 50 },\r\n  { value: \"Wild Draw Four\", color: \"black\", points: 50 },\r\n  { value: \"Wild Draw Four\", color: \"black\", points: 50 },\r\n];\r\n\r\n\r\nexport default deck;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  });\r\n\r\nexport const auth = app.auth();\r\nexport default app;\r\n\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../Firebase\";\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nexport function UserProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  function signUp(email, password) {\r\n    auth.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email);\r\n  }\r\n\r\n  function logIn(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  function logOut() {\r\n    return auth.signOut();\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email);\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n      // console.log(user);\r\n      setLoading(false);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const value = {\r\n    currentUser,\r\n    signUp,\r\n    logIn,\r\n    logOut,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword,\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {!loading && children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext, useMemo } from \"react\";\r\nimport deck from \"./deck\";\r\nimport { UserContext } from \"../shared/UserContext\";\r\n\r\nexport const GameContext = React.createContext();\r\n\r\nexport function GameProvider({ children }) {\r\n  const [isHostCon, setIsHostCon] = useState(false);\r\n  const [playerArray, setPlayerArray] = useState([]);\r\n  const [gameActive, setGameActive] = useState(false);\r\n  const [drawDeck, setDrawDeck] = useState([]);\r\n  const [discardDeck, setDiscardDeck] = useState([]);\r\n  const [userInfo, setUserInfo] = useState({});\r\n  const [room, setRoom] = useState(\"\");\r\n  const { loading } = useContext(UserContext);\r\n  const [hasWinner, setHasWinner] = useState(false);\r\n  const [actionCount, setActionCount] = useState(0);\r\n  const winner = useMemo(() => {\r\n    if (!gameActive && !hasWinner) return null;\r\n    setHasWinner(true);\r\n    return playerArray.find((v) => v.hand.length === 0);\r\n  }, [playerArray]);\r\n\r\n  const canPlay = useMemo(() => {\r\n    return playerArray[0] && playerArray[0].userID === userInfo.userID;\r\n  }, [playerArray]);\r\n\r\n  useEffect(() => {\r\n    if (gameActive === true && drawDeck === []) {\r\n      let move = shuffleDeck([...discardDeck]);\r\n      setDrawDeck(move);\r\n      setDiscardDeck([]);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (winner && !gameActive) {\r\n      setActionCount(actionCount + 1);\r\n      setGameActive(false);\r\n    }\r\n  }, [winner]);\r\n\r\n  function PlayerObject(username, userID, hand) {\r\n    this.username = username;\r\n    this.userID = userID;\r\n    this.hand = hand;\r\n  }\r\n\r\n  // function WildCard(value, color, points) {\r\n  //   this.value = value;\r\n  //   this.color = color;\r\n  //   this.points = points;\r\n  // }\r\n\r\n  function createUserInfo(providedName) {\r\n    let ID =\r\n      Math.random().toString(36).substring(2, 4) +\r\n      Math.random().toString(36).substring(2, 6);\r\n    setUserInfo({ username: providedName, userID: ID });\r\n  }\r\n\r\n  function oneShuffle(toShuffle) {\r\n    let pre = [...toShuffle];\r\n    let post = [];\r\n    for (let i = 0; i <= pre.length; i++) {\r\n      post.splice(Math.floor(Math.random() * i), 0, pre[i]);\r\n    }\r\n    let almost = post.reverse();\r\n    let pen = [];\r\n    for (let i = 0; i <= almost.length; i++) {\r\n      pen.splice(Math.floor(Math.random() * i), 0, almost[i]);\r\n    }\r\n    let ult = pen.filter((x) => x !== undefined);\r\n    return ult;\r\n  }\r\n\r\n  function shuffleDeck(toBeShuffled) {\r\n    let shuffled = oneShuffle(\r\n      oneShuffle(\r\n        oneShuffle(oneShuffle(oneShuffle(oneShuffle(oneShuffle(toBeShuffled)))))\r\n      )\r\n    );\r\n    return shuffled;\r\n  }\r\n\r\n  function deal() {\r\n    let shuffled = shuffleDeck(deck);\r\n    let newPlayerArray = [...playerArray];\r\n    for (let i = 0; i < newPlayerArray.length; i++) {\r\n      for (let j = 1; j <= 7; j++) {\r\n        let dealtCard = shuffled.shift();\r\n        newPlayerArray[i].hand = [...newPlayerArray[i].hand, dealtCard];\r\n      }\r\n      setPlayerArray(newPlayerArray);\r\n    }\r\n    let draw = [...drawDeck];\r\n    shuffled.forEach((card) => {\r\n      draw.push(card);\r\n    });\r\n    shuffled.splice(0);\r\n    setDrawDeck(draw);\r\n    let discard = [...discardDeck];\r\n    discard.push(draw.shift());\r\n    setDiscardDeck(discard);\r\n    console.log(\"Player array\", playerArray);\r\n  }\r\n\r\n  function startGame() {\r\n    deal();\r\n    setGameActive(true);\r\n  }\r\n\r\n  function regularTurn() {\r\n    let players = [...playerArray];\r\n    let justPlayed = players.shift();\r\n    let newOrder = [...players, justPlayed];\r\n    setPlayerArray(newOrder);\r\n    setActionCount(actionCount + 1);\r\n  }\r\n\r\n  function reverseCard() {\r\n    let currentOrder = [...playerArray];\r\n    setPlayerArray(currentOrder.reverse());\r\n    setActionCount(actionCount + 1);\r\n  }\r\n\r\n  function skip() {\r\n    let players = [...playerArray];\r\n    let skipper = players.shift();\r\n    let skippee = players.shift();\r\n    let newOrder = [...players, skipper, skippee];\r\n    setPlayerArray(newOrder);\r\n    setActionCount(actionCount + 1);\r\n  }\r\n\r\n  function drawTwo() {\r\n    let drawing = [...drawDeck];\r\n    let cards = [drawing.shift(), drawing.shift()];\r\n    let newHand = [...playerArray[1].hand];\r\n    newHand.push(cards);\r\n    let players = [...playerArray];\r\n    let player = new PlayerObject(\r\n      playerArray[1].username,\r\n      playerArray[1].userID,\r\n      newHand\r\n    );\r\n    setPlayerArray([...players, player]);\r\n    setActionCount(actionCount + 1);\r\n  }\r\n\r\n  function drawFour() {\r\n    let drawing = [...drawDeck];\r\n    let cards = [\r\n      drawing.shift(),\r\n      drawing.shift(),\r\n      drawing.shift(),\r\n      drawing.shift(),\r\n    ];\r\n    setDrawDeck(drawing);\r\n    let newHand = [...playerArray[1].hand];\r\n    newHand.push(cards);\r\n    let receiver = { ...playerArray[1], hand: newHand };\r\n    let giver = playerArray[0];\r\n    let players = [...playerArray];\r\n    players.shift();\r\n    players.shift();\r\n    setPlayerArray([...players, giver, receiver]);\r\n    setActionCount(actionCount + 1);\r\n  }\r\n\r\n  function setColor(/*playedCard,*/ newColor) {\r\n    // let newCard = new WildCard(playedCard.value, newColor, playedCard.points);\r\n    let newWild = { ...discardDeck[0], color: newColor };\r\n    let discard = [...discardDeck];\r\n    discard.splice(0, 1, newWild);\r\n    setDiscardDeck(discard);\r\n    if (newWild.value.includes(\"Draw Four\")) {\r\n      drawFour();\r\n    } else {\r\n      regularTurn();\r\n    }\r\n    setActionCount(actionCount + 1);\r\n  }\r\n\r\n  function drawCard(playerID) {\r\n    if (gameActive && canPlay) {\r\n      let draw = [...drawDeck];\r\n      let player = playerArray.filter((p) => p.userID === playerID);\r\n      let card = draw.shift();\r\n      console.log(\"Top card:\", discardDeck[0]);\r\n      console.log(\"Drawn card:\", card);\r\n      // let discard = [...discardDeck];\r\n      setDrawDeck(draw);\r\n      if (\r\n        card.color === discardDeck[0].color ||\r\n        card.value === discardDeck[0].value ||\r\n        card.value.toString().includes(\"Wild\")\r\n      ) {\r\n        console.log(\"Playing drawn card\");\r\n        playCard(card, discardDeck[0]);\r\n      } else {\r\n        let newHand = [...player[0].hand, card];\r\n        let afterDraw = new PlayerObject(\r\n          player[0].username,\r\n          player[0].userID,\r\n          newHand\r\n        );\r\n        let players = [...playerArray];\r\n        players.shift();\r\n        setPlayerArray([...players, afterDraw]);\r\n      }\r\n      setActionCount(actionCount + 1);\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  function playCard(playCard, topDiscard, idx = null) {\r\n    if (gameActive && canPlay) {\r\n      let discard = [...discardDeck];\r\n      if (\r\n        playCard.value === topDiscard.value ||\r\n        playCard.color === topDiscard.color ||\r\n        playCard.value.toString().includes(\"Wild\")\r\n      ) {\r\n        console.log(idx);\r\n        if (idx !== null) {\r\n          let playerHand = [...playerArray[0].hand];\r\n          playerHand.splice(idx, 1);\r\n          let newPlayerArray = [...playerArray];\r\n          newPlayerArray[0].hand = playerHand;\r\n          setPlayerArray(newPlayerArray);\r\n        }\r\n        discard.unshift(playCard);\r\n        setDiscardDeck(discard);\r\n        if (!isNaN(playCard.val) || playCard.value === \"Draw Two\") {\r\n          drawTwo();\r\n          regularTurn();\r\n          return;\r\n        }\r\n        if (playCard.value.toString().includes(\"Wild\")) {\r\n          // setColor(playCard, wildToColor);\r\n          // if (playCard.value.toString().includes(\"Four\")) {\r\n          //   drawFour();\r\n          //   return;\r\n          // } else {\r\n          //   regularTurn();\r\n          //   return;\r\n          // }\r\n          return;\r\n        }\r\n      }\r\n      if (playCard.value === \"Reverse\") {\r\n        reverseCard();\r\n        return;\r\n      }\r\n      if (playCard.value === \"Skip\") {\r\n        skip();\r\n        return;\r\n      }\r\n      regularTurn();\r\n      setActionCount(actionCount + 1);\r\n    }\r\n    return;\r\n  }\r\n\r\n  const value = {\r\n    isHostCon,\r\n    setIsHostCon,\r\n    playerArray,\r\n    setPlayerArray,\r\n    gameActive,\r\n    setGameActive,\r\n    canPlay,\r\n    winner,\r\n    actionCount,\r\n    drawDeck,\r\n    setDrawDeck,\r\n    discardDeck,\r\n    setDiscardDeck,\r\n    userInfo,\r\n    setUserInfo,\r\n    room,\r\n    setRoom,\r\n    PlayerObject,\r\n    createUserInfo,\r\n    startGame,\r\n    setColor,\r\n    drawCard,\r\n    playCard,\r\n  };\r\n\r\n  return (\r\n    <GameContext.Provider value={value}>\r\n      {!loading && children}\r\n    </GameContext.Provider>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { GameContext } from \"../../../shared/GameContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n  },\r\n  cardContainer: {\r\n    margin: \"auto\",\r\n  },\r\n  opponentHand: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexWrap: \"wrap\",\r\n    width: \"100px\",\r\n    margin: \"auto\",\r\n    justifyContent: \"center\",\r\n  },\r\n  text: {\r\n    textAlign: \"center\",\r\n    fontSize: 12,\r\n    fontWeight: \"bold\",\r\n  },\r\n}));\r\nconst OtherPlayers = () => {\r\n  // Expecting a array of players, array is of objects containing username and array of cards in hand\r\n  const classes = useStyles();\r\n  const { playerArray, userInfo } = useContext(GameContext);\r\n  console.log(playerArray);\r\n  return (\r\n    <Box className={classes.root}>\r\n      {playerArray &&\r\n        playerArray.map((m, idx) => {\r\n          if (userInfo.username === m.username) {\r\n            return;\r\n          }\r\n          //this may need to be changed since we are mapping an array of objects\r\n          return (\r\n            <Box key={idx} className={classes.opponentHand}>\r\n              <div className={classes.text}>{m.username}</div>\r\n              <div className={classes.cardContainer}>\r\n                <Card color=\"purple\" value=\"UNO\" size=\"small\" />\r\n              </div>\r\n              {/* Card is a placeholder for when we get a back of card finalized */}\r\n              <div className={classes.text}>\r\n                {m.hand.length} {m.hand.length === 1 ? \"card\" : \"cards\"}\r\n              </div>\r\n            </Box>\r\n          );\r\n        })}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default OtherPlayers;\r\n","import React, { useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { GameContext } from \"../../../shared/GameContext\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.2)\",\r\n    height: \"100%\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n    boxShadow: \"inset 0px 0px 10px 5px rgba(0,0,0, 0.5)\"\r\n  },\r\n}));\r\n\r\nconst GameInfo = () => {\r\n  const classes = useStyles();\r\n  const { playerArray, discardDeck, gameActive, isHostCon,  } = useContext(GameContext);\r\n\r\n  return (\r\n    <Container className = {classes.root}>\r\n      {gameActive === false && (\r\n        <>\r\n          {isHostCon === false ? \r\n          <h3>Waiting for host to start game...</h3>\r\n          :<h3>Start game when you are ready!</h3>}\r\n        </>\r\n      )}\r\n\r\n      {gameActive === true && (\r\n        <div>\r\n          <h3>{playerArray[0] && `${playerArray[0].username}'s`} turn!</h3>\r\n          <div>The current color is:  <div style = {{color: `${discardDeck[0].color}`, fontWeight: \"bold\"}}>{discardDeck[0] && `${discardDeck[0].color.toUpperCase()}`}</div></div>\r\n          <div>{playerArray[1] && `${playerArray[1].username}`} is next!</div>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GameInfo;","import React, { useContext } from \"react\";\r\nimport Card from \"../GameComponents/Card\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { GameContext } from \"../../../shared/GameContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  playArea: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst PlayerHand = (props) => {\r\n  const classes = useStyles();\r\n  const { playerArray, discardDeck, userInfo, playCard } = useContext(\r\n    GameContext\r\n  );\r\n  const me = playerArray.filter(\r\n    (player) => player.username === userInfo.username\r\n  )[0];\r\n  return (\r\n    <>\r\n      <div className={classes.playArea}>\r\n        {me &&\r\n          me.hand &&\r\n          me.hand.map((card, idx) => (\r\n            <Card\r\n              topCard={discardDeck[0]}\r\n              playCard={playCard}\r\n              card={card}\r\n              color={`${card.color}`}\r\n              value={`${card.value}`}\r\n              idx={idx}\r\n              key={idx}\r\n            />\r\n          ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlayerHand;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { GameContext } from \"../../../shared/GameContext\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport Countdown from \"react-countdown\";\r\nimport \"./GameBoard.css\";\r\nimport {\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport Card from \"../GameComponents/Card\";\r\n\r\nconst GameBoard = (props) => {\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [open, setOpen] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const renderer = ({ hours, minutes, seconds, completed }) => {\r\n    if (completed) {\r\n      return null;\r\n    } else {\r\n      return <span>{seconds}</span>;\r\n    }\r\n  };\r\n\r\n  const {\r\n    drawCard,\r\n    playCard,\r\n    canPlay,\r\n    isHostCon,\r\n    startGame,\r\n    regularTurn,\r\n    setColor,\r\n    gameActive,\r\n    setGameActive,\r\n    discardDeck,\r\n    setDiscardDeck,\r\n\r\n    userInfo,\r\n  } = useContext(GameContext);\r\n  // console.log(discardDeck[0].points)\r\n  // useEffect(() => {\r\n  //   if (!canPlay) return;\r\n  //   setTimeout(() => {\r\n  //     setMsg(<Countdown renderer={renderer} date={Date.now() + 30000} />);\r\n  //     setOpen(true);\r\n  //     setTimeout(() => {\r\n  //       drawCard(userInfo.userID);\r\n  //     }, 30000);\r\n  //   }, 90000);\r\n  // }, [canPlay, drawCard]);\r\n\r\n  const redirect = () => {\r\n    history.push(\"/home\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"boardContainer\">\r\n      <Dialog\r\n        open={open}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{\"Player Timeout\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            <Alert severity=\"error\" className=\"alert\">\r\n              You have {msg} to make a choice or lose a turn!\r\n            </Alert>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n            color=\"primary\"\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <div className=\"conditionalContainer\">\r\n        <div className=\"drawContainer\">\r\n          <div\r\n            style={{ backgroundColor: \"black\" }}\r\n            className={`cardback`}\r\n            onClick={() => {\r\n              drawCard(userInfo.userID);\r\n            }}\r\n          ></div>\r\n        </div>\r\n\r\n        <div className=\"discardContainer\">\r\n          <Card\r\n            color={discardDeck.length > 0 ? discardDeck[0].color : \"white\"}\r\n            value={discardDeck.length > 0 ? discardDeck[0].value : \"\"}\r\n          />\r\n          {/* <div style={{ backgroundColor: discardDeck.length>0? discardDeck[0].color: \"white\"  }} className={`discard`}><h1>{discardDeck.length>0?discardDeck[0].value:\"\"}</h1></div> */}\r\n        </div>\r\n\r\n        <div className=\"conditionalContainer\">\r\n          {isHostCon !== false && gameActive !== true && (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              value=\"startGame\"\r\n              className=\"startButton\"\r\n              onClick={() => startGame()}\r\n            >\r\n              Start Game\r\n            </Button>\r\n          )}\r\n\r\n          {isHostCon !== true && gameActive !== true && (\r\n            <div className=\"text\">Waiting on host...</div>\r\n          )}\r\n\r\n          {discardDeck.length === 0 || discardDeck[0].points !== 50 ? (\r\n            <></>\r\n          ) : (\r\n            <div className=\"color-area\">\r\n              <div\r\n                className=\"color-box\"\r\n                style={{ backgroundColor: \"blue\" }}\r\n                onClick={() => setColor(\"blue\")}\r\n              ></div>\r\n              <div\r\n                className=\"color-box\"\r\n                style={{ backgroundColor: \"green\" }}\r\n                onClick={() => setColor(\"green\")}\r\n              ></div>\r\n              <div\r\n                className=\"color-box\"\r\n                style={{ backgroundColor: \"red\" }}\r\n                onClick={() => setColor(\"red\")}\r\n              ></div>\r\n              <div\r\n                className=\"color-box\"\r\n                style={{ backgroundColor: \"yellow\" }}\r\n                onClick={() => setColor(\"yellow\")}\r\n              ></div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"right-area\">\r\n        {gameActive !== false && (\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            value=\"quitGame\"\r\n            className=\"quitGame\"\r\n            onClick={redirect}\r\n          >\r\n            Quit Game\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default GameBoard;\r\n","import { React, useEffect, useContext } from \"react\";\r\nimport useSocket from \"../../hooks/useSocket.js\";\r\nimport Chat from \"./GameComponents/Chat\";\r\nimport OtherPlayers from \"./GameComponents/OtherPlayers\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport GameInfo from \"./GameComponents/GameInfo.js\";\r\nimport PlayerHand from \"./GameComponents/PlayerHand.js\";\r\nimport GameBoard from \"./GameComponents/GameBoard.js\";\r\nimport { GameContext } from \"../../shared/GameContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  gamePage: {\r\n    width: \"100%\",\r\n    height: \"80vh\",\r\n    padding: 10,\r\n    margin: \"0px !important\",\r\n  },\r\n  otherPlayers: {\r\n    flexBasis: 125,\r\n    margin: \"8px auto\",\r\n    width: \"calc(100% - 16px)\",\r\n  },\r\n  info: {\r\n    flexBasis: 125,\r\n    width: \"calc(100% - 18px)\",\r\n    textAlign: \"center\",\r\n    margin: \"8px auto\",\r\n  },\r\n  chat: {\r\n    flexBasis: 50,\r\n    flexGrow: 1,\r\n    width: \"calc(100% - 18px)\",\r\n    textAlign: \"center\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: \"8px auto\",\r\n  },\r\n  sectionContainer: {\r\n    padding: \"5px !important\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  gameBoard: {\r\n    width: \"calc(100% - 16px)\",\r\n\r\n    flexBasis: 100,\r\n    flexGrow: 1,\r\n    margin: \"8px auto\",\r\n  },\r\n  section: { border: \"1px solid black\", padding: 8, overflowY: \"hidden\" },\r\n\r\n  playerHand: {\r\n    flexBasis: 145,\r\n    width: \"calc(100% - 16px)\",\r\n    margin: \"8px auto\",\r\n    overflowY: \"scroll\",\r\n  },\r\n}));\r\n\r\nconst GamePage = (props) => {\r\n  const {\r\n    isHostCon,\r\n    gameActive,\r\n    setGameActive,\r\n    playerArray,\r\n    setPlayerArray,\r\n    drawDeck,\r\n    discardDeck,\r\n    userInfo,\r\n    room,\r\n    setDrawDeck,\r\n    actionCount,\r\n    setDiscardDeck,\r\n    PlayerObject,\r\n  } = useContext(GameContext);\r\n\r\n  const {\r\n    messages,\r\n    gameData,\r\n    sendPlayerData,\r\n    sendMessage,\r\n    joinRoom,\r\n    sendJoinGame,\r\n  } = useSocket(room, isHostCon); //placeholder for testing\r\n\r\n  useEffect(() => {\r\n    let newGuy = new PlayerObject(userInfo.username, userInfo.userID, []);\r\n    sendJoinGame({ ...newGuy });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    joinRoom(userInfo.username, room);\r\n  }, [room]);\r\n\r\n  useEffect(() => {\r\n    if (!gameActive || !isHostCon) return;\r\n    if (gameActive && !isHostCon) setGameActive(true);\r\n    sendPlayerData({\r\n      ...gameData,\r\n      gameActive: true,\r\n      drawDeck: [...drawDeck],\r\n      discardDeck: [...discardDeck],\r\n    });\r\n  }, [gameActive]);\r\n\r\n  useEffect(() => {\r\n    setPlayerArray([...gameData.players]);\r\n  }, [gameData]);\r\n\r\n  // useEffect(() => {\r\n  //   if (isHostCon === true) {\r\n  //     sendPlayerData({ ...gameData, gameActive: gameActive });\r\n  //   } else {\r\n  //     setGameActive(gameData.gameActive);\r\n  //   }\r\n  // }, [gameActive, sendPlayerData]);\r\n\r\n  // useEffect(() => {\r\n  //   if (\r\n  //     isHostCon === true &&\r\n  //     playerArray[1] &&\r\n  //     playerArray[1].hand.length === 0 &&\r\n  //     playerArray[0].hand.length > 0\r\n  //   ) {\r\n  //     setGameActive(false);\r\n  //   }\r\n  // });\r\n\r\n  // useEffect(() => {\r\n  //   if (!gameActive) return;\r\n  //   sendPlayerData({ ...gameData, drawDeck: [...drawDeck] });\r\n  // }, [drawDeck]);\r\n\r\n  // useEffect(() => {\r\n  //   if (!gameActive) return;\r\n  //   sendPlayerData({ ...gameData, discardDeck: [...discardDeck] });\r\n  // }, [discardDeck]);\r\n\r\n  useEffect(() => {\r\n    setGameActive(gameData.gameActive);\r\n  }, [gameData.gameActive]);\r\n\r\n  useEffect(() => {\r\n    setDiscardDeck(gameData.discardDeck);\r\n  }, [gameData.discardDeck]);\r\n\r\n  useEffect(() => {\r\n    setDrawDeck(gameData.drawDeck);\r\n  }, [gameData.drawDeck]);\r\n\r\n  useEffect(() => {\r\n    if (actionCount === 0) return;\r\n    sendPlayerData({ players: playerArray, discardDeck, drawDeck, gameActive });\r\n  }, [actionCount]);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container spacing={2} className={classes.gamePage}>\r\n      <Grid xs={3} item className={classes.sectionContainer}>\r\n        <Grid className={`${classes.info} ${classes.section}`}>\r\n          <GameInfo />\r\n        </Grid>\r\n        <Grid className={`${classes.chat} ${classes.section}`}>\r\n          <Chat\r\n            messages={messages}\r\n            username={userInfo.username}\r\n            sendMessage={sendMessage}\r\n            joinRoom={joinRoom}\r\n          ></Chat>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid item xs={9} className={classes.sectionContainer}>\r\n        <Grid className={`${classes.otherPlayers} ${classes.section}`}>\r\n          <OtherPlayers />\r\n        </Grid>\r\n        <Grid className={`${classes.gameBoard} ${classes.section}`}>\r\n          <GameBoard>\r\n            <button\r\n              onClick={() => {\r\n                console.log(playerArray);\r\n                console.log(gameData.players);\r\n              }}\r\n            >\r\n              PlayerArray and GameData.players\r\n            </button>\r\n          </GameBoard>\r\n        </Grid>\r\n        <Grid className={`${classes.playerHand} ${classes.section}`}>\r\n          <PlayerHand />\r\n        </Grid>\r\n      </Grid>\r\n      {/* </div> */}\r\n      {/* <div /> */}\r\n      {/* </div> */}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default GamePage;\r\n","import React, { useState, useContext } from \"react\";\r\nimport {\r\n  Button,\r\n  Grid,\r\n  makeStyles,\r\n  TextField,\r\n  Container,\r\n  Box,\r\n  CssBaseline,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { GameContext } from \"../../shared/GameContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  testErr: {\r\n    color: \"red\",\r\n  },\r\n  join: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nexport default function HomePage() {\r\n  const [gameId] = useState(\r\n    Math.random().toString(36).substring(2, 4) +\r\n      Math.random().toString(36).substring(2, 8)\r\n  );\r\n  const [joinedRoom, setJoinedRoom] = useState(\"\");\r\n  const { setIsHostCon, createUserInfo, setRoom, userInfo } = useContext(\r\n    GameContext\r\n  );\r\n  const [username, setUsername] = useState(\"\");\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [error, setError] = useState(\"\");\r\n\r\n  function joinGame(e) {\r\n    // e.preventDefault();\r\n    if (\r\n      joinedRoom.length === 8 &&\r\n      username.length > 3 &&\r\n      username.length < 20\r\n    ) {\r\n      setRoom(joinedRoom);\r\n      return history.push(`/game/${joinedRoom}`);\r\n    } else {\r\n      setError(\"Invalid game room id given.\");\r\n    }\r\n  }\r\n\r\n  function createGame() {\r\n    if (error.length === 0) {\r\n      try {\r\n        createUserInfo(username);\r\n        setRoom(gameId);\r\n        setIsHostCon(true);\r\n        history.push(`/game/${gameId}`);\r\n      } catch (error) {\r\n        setError(\"Unable to create game.\");\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleUnique() {\r\n    if (username.length < 3 || username.length > 20) {\r\n      return setError(\"Invalid username, must be between 3 and 20 characters.\");\r\n    }\r\n    try {\r\n      setError(\"\");\r\n      createUserInfo(username);\r\n    } catch (error) {\r\n      setError(\"Unable to create username at this time.\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"sm\">\r\n      <Box borderRadius={25} p={2} border={1} borderColor=\"#000\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Username\r\n          </Typography>\r\n          {error && <Alert severity=\"error\">{error}</Alert>}\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                error={error.length > 0}\r\n                label=\"Unique username\"\r\n                fullWidth\r\n                required\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                helperText={\r\n                  username.length < 3 ? \"Must be greater than 3 characters\" : \"\"\r\n                }\r\n                onChange={(e) => {\r\n                  setUsername(e.target.value);\r\n                }}\r\n                value={username}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Game ID to Join\r\n          </Typography>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                name=\"joined-room\"\r\n                label=\"Room to Join\"\r\n                variant=\"outlined\"\r\n                value={joinedRoom}\r\n                onChange={(e) => {\r\n                  setJoinedRoom(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Button\r\n              fullWidth\r\n              type=\"submit\"\r\n              onClick={() => {\r\n                handleUnique();\r\n                joinGame();\r\n              }}\r\n              disabled={\r\n                joinedRoom.length !== 8 ||\r\n                username.length < 3 ||\r\n                username.length > 20\r\n              }\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              Join Game\r\n            </Button>\r\n          </Grid>\r\n        </div>\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            New Game ID: {gameId}\r\n          </Typography>\r\n          <Grid container spacing={2}>\r\n            <Button\r\n              fullWidth\r\n              className={classes.join}\r\n              type=\"submit\"\r\n              onClick={() => {\r\n                handleUnique();\r\n                createGame(gameId);\r\n              }}\r\n              disabled={username.length < 3 || username.length > 20}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              Create Game\r\n            </Button>\r\n          </Grid>\r\n        </div>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import {\r\n  Button,\r\n  Grid,\r\n  makeStyles,\r\n  TextField,\r\n  Link,\r\n  Box,\r\n  Container,\r\n  Typography,\r\n  Snackbar,\r\n  CssBaseline,\r\n} from \"@material-ui/core\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { UserContext } from \"../../shared/UserContext\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function UserSettingsPage() {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  const classes = useStyles();\r\n  const { currentUser, updateEmail, updatePassword } = useContext(UserContext);\r\n  const originalEmail = currentUser.email;\r\n  const [email, setEmail] = useState(originalEmail);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  async function changePassword(e) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    if (password !== passwordConfirm) {\r\n      setError(\"Passwords must match\");\r\n      setOpen(true);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      await updatePassword(password);\r\n      setSuccess(\"Successfully updated password\");\r\n    } catch (err) {\r\n      setError(\"Failed to update your account.\");\r\n    } finally {\r\n      setLoading(false);\r\n      setOpen(true);\r\n    }\r\n  }\r\n\r\n  async function changeEmail(e) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    if (!/\\S+@\\S+\\.\\S+/.test(email) || email === originalEmail) {\r\n      setError(\"Invalid email provided\");\r\n      setOpen(true);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      await updateEmail(email);\r\n      setSuccess(\"Successfully updated email\");\r\n    } catch (err) {\r\n      setError(\"Failed to update your account.\");\r\n    } finally {\r\n      setLoading(false);\r\n      setOpen(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Box borderRadius={25} p={2} border={1} borderColor=\"#000\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h4\">\r\n            Change Settings\r\n          </Typography>\r\n\r\n          <form style={{ marginTop: \"30px\" }} noValidate autoComplete=\"off\">\r\n            <div className={classes.root}>\r\n              <Grid\r\n                container\r\n                alignItems=\"center\"\r\n                direction=\"row\"\r\n                spacing={1}\r\n                justify=\"center\"\r\n              >\r\n                <Typography component=\"h4\" variant=\"h6\">\r\n                  Change Email\r\n                </Typography>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    id=\"new-email\"\r\n                    label={`${\r\n                      email !== originalEmail ? \"*New Email\" : \"Current Email\"\r\n                    }`}\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    defaultValue={originalEmail}\r\n                    onChange={(e) => {\r\n                      setEmail(e.target.value);\r\n                    }}\r\n                    error={!/\\S+@\\S+\\.\\S+/.test(email)}\r\n                    helperText={\r\n                      !/\\S+@\\S+\\.\\S+/.test(email)\r\n                        ? \"Please enter a valid email\"\r\n                        : \"\"\r\n                    }\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Grid container alignItems=\"center\" justify=\"flex-end\">\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                  disabled={loading}\r\n                  onClick={changeEmail}\r\n                >\r\n                  Update Email\r\n                </Button>\r\n              </Grid>\r\n              <Grid\r\n                container\r\n                alignItems=\"center\"\r\n                direction=\"row\"\r\n                spacing={1}\r\n                justify=\"center\"\r\n              >\r\n                <Typography\r\n                  style={{ marginTop: \"20px\" }}\r\n                  component=\"h4\"\r\n                  variant=\"h6\"\r\n                >\r\n                  Change Password\r\n                </Typography>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    fullWidth\r\n                    id=\"new-password\"\r\n                    type=\"password\"\r\n                    label={`New password ${password !== \"\" ? \"*Changed\" : \"\"}`}\r\n                    error={password !== passwordConfirm}\r\n                    helperText={\r\n                      password !== passwordConfirm ? \"Passwords must match\" : \"\"\r\n                    }\r\n                    variant=\"outlined\"\r\n                    value={password}\r\n                    onChange={(e) => {\r\n                      setPassword(e.target.value);\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Grid\r\n                container\r\n                alignItems=\"center\"\r\n                direction=\"row\"\r\n                spacing={1}\r\n                justify=\"center\"\r\n              >\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    style={{ marginTop: \"20px\" }}\r\n                    fullWidth\r\n                    id=\"confirm-password\"\r\n                    label=\"Confirm New Password\"\r\n                    variant=\"outlined\"\r\n                    type=\"password\"\r\n                    value={passwordConfirm}\r\n                    onChange={(e) => {\r\n                      setPasswordConfirm(e.target.value);\r\n                    }}\r\n                    error={password !== passwordConfirm}\r\n                    helperText={\r\n                      password !== passwordConfirm ? \"Passwords must match\" : \"\"\r\n                    }\r\n                  />\r\n                </Grid>\r\n                <Grid container alignItems=\"center\" justify=\"flex-end\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    disabled={loading}\r\n                    onClick={changePassword}\r\n                  >\r\n                    Update Password\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid\r\n                container\r\n                alignItems=\"center\"\r\n                direction=\"row\"\r\n                spacing={1}\r\n                justify=\"center\"\r\n              ></Grid>\r\n              <Grid\r\n                style={{ marginTop: \"20px\" }}\r\n                container\r\n                alignItems=\"center\"\r\n                direction=\"row\"\r\n                spacing={1}\r\n                justify=\"flex-end\"\r\n              >\r\n                <div>\r\n                  <Link component={NavLink} to=\"/\">\r\n                    Cancel\r\n                  </Link>\r\n                </div>\r\n              </Grid>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <Box mt={5}></Box>\r\n\r\n        <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n          <Alert onClose={handleClose} severity={error ? \"error\" : \"success\"}>\r\n            {error ? error : success}\r\n          </Alert>\r\n        </Snackbar>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { UserContext } from \"../../shared/UserContext\";\r\nimport {\r\n  Box,\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  TextField,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Link,\r\n  Grid,\r\n  Container,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(2),\r\n      // width: \"65ch\",\r\n      maxWidth: \"65ch\",\r\n      minWidth: \"25ch\",\r\n      marginLeft: 1,\r\n      marginRight: 0,\r\n    },\r\n    paddingLeft: 0,\r\n    paddingRight: 0,\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  Box: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function LoginPage() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { logIn } = useContext(UserContext);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  // const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await logIn(email, password);\r\n      return;\r\n    } catch {\r\n      setError(\"Something went wrong, unable to sign in. Please try again.\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Box borderRadius={25} p={2} border={1} borderColor=\"#000\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Log in\r\n          </Typography>\r\n          {error && <Alert severity=\"error\">{error}</Alert>}\r\n          <form className={classes.form} noValidate>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              value={email}\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              autoComplete=\"current-password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disabled={loading}\r\n              className={classes.submit}\r\n              onClick={handleSubmit}\r\n            >\r\n              Login\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link component={NavLink} to=\"/reset-password\" variant=\"body2\">\r\n                  Forgot password?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link component={NavLink} to=\"/signup\" variant=\"body2\">\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={8}></Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Button,\r\n  TextField,\r\n  Link,\r\n  Grid,\r\n  CssBaseline,\r\n  Box,\r\n  Container,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { UserContext } from \"../../shared/UserContext\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignupPage() {\r\n  const classes = useStyles();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n  const { signUp } = useContext(UserContext);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (password !== passwordConfirm) {\r\n      return setError(\"Passwords must match\");\r\n    }\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await signUp(email, password);\r\n    } catch (error) {\r\n      setError(\r\n        \"Something went wrong, unable to create account. Please try again.\"\r\n      );\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Box borderRadius={25} p={2} border={1} borderColor=\"#000\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign up\r\n          </Typography>\r\n          {error && <Alert severity=\"error\">{error}</Alert>}\r\n          <form onSubmit={handleSubmit} className={classes.form}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n              </Grid>{\" \"}\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password2\"\r\n                  label=\"Re-enter Password\"\r\n                  type=\"password\"\r\n                  id=\"password2\"\r\n                  autoComplete=\"current-password\"\r\n                  value={passwordConfirm}\r\n                  onChange={(e) => setPasswordConfirm(e.target.value)}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={loading}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Link component={NavLink} to=\"/login\" variant=\"body2\">\r\n                  Already have an account? Sign in\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={5}></Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { UserContext } from \"../../shared/UserContext\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  CssBaseline,\r\n  Link,\r\n  Box,\r\n  Grid,\r\n  Typography,\r\n  makeStyles,\r\n  Container,\r\n} from \"@material-ui/core\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function ResetPasswordPage() {\r\n  const classes = useStyles();\r\n  const [email, setEmail] = useState(\"\");\r\n  const { resetPassword } = useContext(UserContext);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      return setError(\"Please enter a valid email\");\r\n    }\r\n    try {\r\n      setMessage(\"\");\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await resetPassword(email);\r\n      setMessage(\"Check your email inbox for further instructions.\");\r\n    } catch (err) {\r\n      setError(\"Failed to reset password.\");\r\n    }\r\n    setLoading(false);\r\n  }\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Box borderRadius={25} p={2} border={1} borderColor=\"#000\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Reset Password\r\n          </Typography>\r\n          {error && <Alert severity=\"error\">{error}</Alert>}\r\n          {message && <Alert severity=\"success\">{message}</Alert>}\r\n          <form onSubmit={handleSubmit} className={classes.form}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n              </Grid>{\" \"}\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              disabled={loading}\r\n            >\r\n              Reset Password\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link component={NavLink} to=\"/login\" variant=\"body2\">\r\n                  Remember your password?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link component={NavLink} to=\"/signup\" variant=\"body2\">\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={5}></Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoutes = ({ currentUser, authRequired, component, path }) => {\r\n  const redirect = authRequired ? \"/login\" : \"/home\";\r\n\r\n  if ((authRequired && !currentUser) || (!authRequired && currentUser)) {\r\n    return <Redirect to={redirect} />;\r\n  }\r\n  return <Route exact path={path} component={component} />;\r\n};\r\n\r\nexport default ProtectedRoutes;\r\n","import React, { useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  container: {\r\n    marginTop: 10,\r\n  },\r\n  iconText: {\r\n    marginLeft: 5,\r\n  },\r\n  link: {\r\n    \"&:visited\": {\r\n      textDecoration: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst AppMenu = () => {\r\n  const classes = useStyles();\r\n  const { currentUser, logOut } = useContext(UserContext);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const logoutUser = () => {\r\n    handleClose();\r\n    logOut();\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Midland UNO Clone\r\n        </Typography>\r\n        {currentUser && (\r\n          <div>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              anchorOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              open={open}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem onClick={handleClose} component={NavLink} to=\"/home\">\r\n                <ListItemIcon>\r\n                  <HomeIcon fontSize=\"small\" />\r\n                  <div className={classes.iconText}>Home</div>\r\n                </ListItemIcon>\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={handleClose}\r\n                component={NavLink}\r\n                to=\"/settings\"\r\n              >\r\n                <ListItemIcon>\r\n                  <SettingsIcon fontSize=\"small\" />\r\n                  <div className={classes.iconText}>User Settings</div>\r\n                </ListItemIcon>\r\n              </MenuItem>\r\n              <MenuItem onClick={logoutUser}>\r\n                <ListItemIcon>\r\n                  <ExitToAppIcon fontSize=\"small\" />\r\n                  <div className={classes.iconText}>Logout</div>\r\n                </ListItemIcon>\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\nexport default AppMenu;\r\n","import React, { useContext } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport GamePage from \"./components/Game/GamePage\";\r\nimport HomePage from \"./components/Home/HomePage\";\r\nimport UserSettingsPage from \"./components/UserSettings/UserSettingsPage\";\r\nimport LoginPage from \"./components/Login/LoginPage\";\r\nimport SignupPage from \"./components/Signup/SignupPage\";\r\nimport ResetPasswordPage from \"./components/ResetPassword/ResetPasswordPage\";\r\nimport ProtectedRoutes from \"./shared/ProtectedRoutes\";\r\nimport { UserContext } from \"./shared/UserContext\";\r\nimport AppMenu from \"./shared/AppMenu\";\r\n\r\nfunction App() {\r\n  const { currentUser } = useContext(UserContext);\r\n  return (\r\n    <Router>\r\n      <AppMenu />\r\n      <div className=\"container\">\r\n        <Switch>\r\n          <ProtectedRoutes\r\n            currentUser={currentUser}\r\n            path=\"/login\"\r\n            authRequired={false}\r\n            component={LoginPage}\r\n          />\r\n          <ProtectedRoutes\r\n            currentUser={currentUser}\r\n            path=\"/signup\"\r\n            authRequired={false}\r\n            component={SignupPage}\r\n          />\r\n          <ProtectedRoutes\r\n            currentUser={currentUser}\r\n            path=\"/reset-password\"\r\n            authRequired={false}\r\n            component={ResetPasswordPage}\r\n          />\r\n          <ProtectedRoutes\r\n            currentUser={currentUser}\r\n            path=\"/settings\"\r\n            authRequired={true}\r\n            component={UserSettingsPage}\r\n          />\r\n          <ProtectedRoutes\r\n            currentUser={currentUser}\r\n            path=\"/game/:gameId\"\r\n            authRequired={true}\r\n            component={GamePage}\r\n          />\r\n          <ProtectedRoutes\r\n            currentUser={currentUser}\r\n            path=\"/home\"\r\n            authRequired={true}\r\n            component={HomePage}\r\n          />\r\n        </Switch>\r\n        <Route path=\"*\">\r\n          <Redirect to=\"/login\" />\r\n        </Route>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { UserProvider } from \"./shared/UserContext\";\r\nimport { GameProvider } from \"./shared/GameContext\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <UserProvider>\r\n    <GameProvider>\r\n      <App />\r\n    </GameProvider>\r\n  </UserProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}